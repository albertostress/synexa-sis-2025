# Testes da API de MatrÃ­culas
# Use este arquivo com a extensÃ£o REST Client do VSCode ou similar

@baseUrl = http://localhost:3000
@token = seu_token_jwt_aqui

### ğŸ¯ ENDPOINT PRINCIPAL - Criar matrÃ­cula com estudante novo
POST {{baseUrl}}/enrollment
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "student": {
    "firstName": "JoÃ£o",
    "lastName": "Manuel da Silva", 
    "gender": "MASCULINO",
    "birthDate": "2010-03-15",
    "biNumber": "003456789LA042",
    "province": "Luanda",
    "municipality": "Maianga",
    "tags": ["bolsista", "desportista"],
    "guardian": {
      "name": "Maria Silva Santos",
      "phone": "+244923456789",
      "email": "maria.santos@email.com",
      "relationship": "MÃ£e",
      "address": "Rua da MissÃ£o, 123, Maianga, Luanda",
      "bi": "005678912LA041"
    }
  },
  "academicYear": 2025,
  "classId": "uuid-da-turma-aqui",
  "status": "ATIVA"
}

### ğŸ”„ Endpoint alternativo - with-student
POST {{baseUrl}}/enrollment/with-student
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "student": {
    "firstName": "Ana",
    "lastName": "Costa Pereira",
    "gender": "FEMININO", 
    "birthDate": "2009-07-22",
    "biNumber": "004567890LA043",
    "province": "Benguela",
    "municipality": "Lobito",
    "guardian": {
      "name": "JosÃ© Pereira",
      "phone": "+244912345678"
    }
  },
  "academicYear": 2025,
  "classId": "uuid-da-turma-aqui"
}

### ğŸ“‹ Listar todas as matrÃ­culas
GET {{baseUrl}}/enrollment
Authorization: Bearer {{token}}

### ğŸ“… Buscar matrÃ­culas por ano
GET {{baseUrl}}/enrollment/by-year?year=2025
Authorization: Bearer {{token}}

### ğŸ« Buscar matrÃ­culas por turma
GET {{baseUrl}}/enrollment/by-class/uuid-da-turma-aqui
Authorization: Bearer {{token}}

### ğŸ‘¤ Buscar matrÃ­culas por estudante
GET {{baseUrl}}/enrollment/by-student/uuid-do-estudante-aqui
Authorization: Bearer {{token}}

### âœï¸ Atualizar status de matrÃ­cula
PATCH {{baseUrl}}/enrollment/uuid-da-matricula-aqui
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "status": "CANCELLED"
}

### ğŸ”„ Transferir estudante de turma
PATCH {{baseUrl}}/enrollment/uuid-da-matricula-aqui
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "classId": "uuid-da-nova-turma"
}