{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","summary":"Health check da aplicação","parameters":[],"responses":{"200":{"description":"Aplicação funcionando"}},"tags":["health"]}},"/auth/login":{"post":{"operationId":"AuthController_login","summary":"Login de usuário","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login realizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"401":{"description":"Email ou senha inválidos"}},"tags":["auth"]}},"/auth/parent-login":{"post":{"operationId":"AuthController_parentLogin","summary":"Login de responsável/pai","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginParentDto"}}}},"responses":{"200":{"description":"Login de responsável realizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"401":{"description":"Email ou senha inválidos"}},"tags":["auth"]}},"/users":{"post":{"operationId":"UsersController_create","summary":"Criar novo usuário","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"Usuário criado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"uuid"},"name":{"type":"string","example":"João Silva"},"email":{"type":"string","example":"joao.silva@escola.com"},"role":{"type":"string","enum":["ADMIN","SECRETARIA","PROFESSOR","DIRETOR"]},"createdAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"}}}}}},"409":{"description":"Email já cadastrado"}},"tags":["users"]},"get":{"operationId":"UsersController_findAll","summary":"Listar todos os usuários","parameters":[],"responses":{"200":{"description":"Lista de usuários retornada com sucesso"}},"tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","summary":"Buscar usuário por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuário encontrado"},"404":{"description":"Usuário não encontrado"}},"tags":["users"]},"put":{"operationId":"UsersController_update","summary":"Atualizar usuário","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuário atualizado com sucesso"},"404":{"description":"Usuário não encontrado"},"409":{"description":"Email já cadastrado"}},"tags":["users"]},"delete":{"operationId":"UsersController_remove","summary":"Remover usuário","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuário removido com sucesso"},"404":{"description":"Usuário não encontrado"}},"tags":["users"]}},"/students":{"post":{"operationId":"StudentsController_create","summary":"Criar novo aluno","description":"Cria um novo aluno no sistema com todas as informações pessoais, acadêmicas e familiares","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStudentDto"}}}},"responses":{"201":{"description":"Aluno criado com sucesso","content":{"application/json":{"schema":{"type":"object","example":{"id":"uuid-generated-id","firstName":"João","lastName":"Silva","gender":"MASCULINO","birthDate":"2010-05-15T00:00:00.000Z","phone":"+244923456789","studentNumber":"2024-0001","academicYear":"2024","classId":"uuid-da-turma","profilePhotoUrl":null,"guardianName":"Maria Silva","guardianPhone":"+244923456789","municipality":"Luanda","province":"Luanda","country":"Angola","parentEmail":"pais@email.com","parentPhone":"+244923456789","schoolClass":{"id":"uuid-da-turma","name":"10ª A","year":2024,"shift":"MORNING"},"createdAt":"2024-01-01T10:00:00.000Z","updatedAt":"2024-01-01T10:00:00.000Z"}}}}},"400":{"description":"Dados inválidos"},"409":{"description":"Número de matrícula já existe"}},"tags":["Students"],"security":[{"bearer":[]}]},"get":{"operationId":"StudentsController_findAll","summary":"Listar alunos com paginação e filtros","description":"Retorna lista paginada de alunos com opções de busca e filtros","parameters":[{"name":"page","required":false,"in":"query","description":"Número da página (padrão: 1)","schema":{"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 20, máx: 100)","schema":{"default":20,"example":20,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Busca por nome, apelido ou número","schema":{"example":"João","type":"string"}},{"name":"academicYear","required":false,"in":"query","description":"Filtrar por ano académico","schema":{"example":"2024","type":"string"}},{"name":"classId","required":false,"in":"query","description":"Filtrar por ID da turma","schema":{"example":"uuid-da-turma","type":"string"}},{"name":"province","required":false,"in":"query","description":"Filtrar por província","schema":{"example":"Luanda","type":"string"}}],"responses":{"200":{"description":"Lista paginada de alunos retornada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"students":{"type":"array","items":{"type":"object","example":{"id":"uuid-generated-id","firstName":"João","lastName":"Silva","gender":"MASCULINO","birthDate":"2010-05-15T00:00:00.000Z","phone":"+244923456789","studentNumber":"2024-0001","academicYear":"2024","classId":"uuid-da-turma","profilePhotoUrl":null,"guardianName":"Maria Silva","guardianPhone":"+244923456789","municipality":"Luanda","province":"Luanda","country":"Angola","parentEmail":"pais@email.com","parentPhone":"+244923456789","schoolClass":{"id":"uuid-da-turma","name":"10ª A","year":2024,"shift":"MORNING"},"createdAt":"2024-01-01T10:00:00.000Z","updatedAt":"2024-01-01T10:00:00.000Z"}}},"total":{"type":"number","example":150},"page":{"type":"number","example":1},"limit":{"type":"number","example":20},"totalPages":{"type":"number","example":8},"hasNext":{"type":"boolean","example":true},"hasPrevious":{"type":"boolean","example":false}}}}}}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/by-bi/{biNumber}":{"get":{"operationId":"StudentsController_findByBI","summary":"Verificar se estudante existe por BI","description":"Verifica se já existe um estudante com o número de BI informado. Retorna 200 se existe, 404 se não existe.","parameters":[{"name":"biNumber","required":true,"in":"path","description":"Número do Bilhete de Identidade (formato: 123456789LA034)","schema":{"example":"123456789LA034","type":"string"}}],"responses":{"200":{"description":"Estudante encontrado com este BI","content":{"application/json":{"schema":{"type":"object","properties":{"exists":{"type":"boolean","example":true},"student":{"type":"object","properties":{"id":{"type":"string","example":"uuid-generated-id"},"firstName":{"type":"string","example":"João"},"lastName":{"type":"string","example":"Silva"},"biNumber":{"type":"string","example":"123456789LA034"},"studentNumber":{"type":"string","example":"2024-0001"},"academicYear":{"type":"string","example":"2024"}}}}}}}},"404":{"description":"Nenhum estudante encontrado com este BI","content":{"application/json":{"schema":{"type":"object","properties":{"exists":{"type":"boolean","example":false},"message":{"type":"string","example":"Nenhum estudante encontrado com o BI 123456789LA034"}}}}}}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/statistics":{"get":{"operationId":"StudentsController_getStatistics","summary":"Obter estatísticas dos alunos","description":"Retorna estatísticas gerais dos alunos incluindo distribuições por status, género, província, etc.","parameters":[],"responses":{"200":{"description":"Estatísticas retornadas com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentStatisticsDto"}}}}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/export/csv":{"get":{"operationId":"StudentsController_exportCsv","summary":"Exportar alunos para CSV","description":"Exporta a lista de alunos em formato CSV","parameters":[],"responses":{"200":{"description":"Arquivo CSV gerado com sucesso"}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/all":{"get":{"operationId":"StudentsController_findAllComplete","summary":"Listar todos os alunos sem paginação","description":"Retorna lista completa de alunos (use com cuidado em bases grandes)","parameters":[],"responses":{"200":{"description":"Lista completa de alunos","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/{id}":{"get":{"operationId":"StudentsController_findOne","summary":"Buscar aluno por ID","description":"Retorna dados completos de um aluno específico incluindo turma, matrículas e faturas pendentes","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"example":"uuid-generated-id","type":"string"}}],"responses":{"200":{"description":"Aluno encontrado","content":{"application/json":{"schema":{"type":"object","example":{"id":"uuid-generated-id","firstName":"João","lastName":"Silva","gender":"MASCULINO","birthDate":"2010-05-15T00:00:00.000Z","phone":"+244923456789","studentNumber":"2024-0001","academicYear":"2024","classId":"uuid-da-turma","profilePhotoUrl":null,"guardianName":"Maria Silva","guardianPhone":"+244923456789","municipality":"Luanda","province":"Luanda","country":"Angola","parentEmail":"pais@email.com","parentPhone":"+244923456789","schoolClass":{"id":"uuid-da-turma","name":"10ª A","year":2024,"shift":"MORNING","capacity":30},"enrollments":[{"id":"uuid-enrollment","year":2024,"status":"ACTIVE"}],"invoices":[{"id":"uuid-invoice","amount":25000,"dueDate":"2024-02-01T00:00:00.000Z","status":"PENDENTE"}],"createdAt":"2024-01-01T10:00:00.000Z","updatedAt":"2024-01-01T10:00:00.000Z"}}}}},"404":{"description":"Aluno não encontrado"}},"tags":["Students"],"security":[{"bearer":[]}]},"put":{"operationId":"StudentsController_update","summary":"Atualizar aluno","description":"Atualiza dados de um aluno existente. Todos os campos são opcionais","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"example":"uuid-generated-id","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStudentDto"}}}},"responses":{"200":{"description":"Aluno atualizado com sucesso","content":{"application/json":{"schema":{"type":"object","example":{"id":"uuid-generated-id","firstName":"João","lastName":"Silva Santos","gender":"MASCULINO","birthDate":"2010-05-15T00:00:00.000Z","phone":"+244923456789","studentNumber":"2024-0001","academicYear":"2024","classId":"uuid-da-turma","profilePhotoUrl":null,"guardianName":"Maria Silva","guardianPhone":"+244923456789","municipality":"Luanda","province":"Luanda","country":"Angola","parentEmail":"pais@email.com","parentPhone":"+244923456789","createdAt":"2024-01-01T10:00:00.000Z","updatedAt":"2024-01-01T10:05:00.000Z"}}}}},"400":{"description":"Dados inválidos"},"404":{"description":"Aluno não encontrado"},"409":{"description":"Número de matrícula já existe"}},"tags":["Students"],"security":[{"bearer":[]}]},"delete":{"operationId":"StudentsController_remove","summary":"Remover aluno","description":"Remove um aluno do sistema. Só é possível se não houver dependências (matrículas, notas, etc.)","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"example":"uuid-generated-id","type":"string"}}],"responses":{"200":{"description":"Aluno removido com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Aluno removido com sucesso"}}}}}},"404":{"description":"Aluno não encontrado"},"409":{"description":"Aluno possui dependências (matrículas, notas, etc)"}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/{id}/notes":{"post":{"operationId":"StudentsController_createNote","summary":"Adicionar anotação pedagógica","description":"Adiciona uma nova anotação pedagógica ao aluno","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStudentNoteDto"}}}},"responses":{"201":{"description":"Anotação criada com sucesso","content":{"application/json":{"schema":{"type":"object"}}}},"404":{"description":"Aluno não encontrado"}},"tags":["Students"],"security":[{"bearer":[]}]},"get":{"operationId":"StudentsController_getNotes","summary":"Listar anotações do aluno","description":"Retorna todas as anotações pedagógicas do aluno","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de anotações retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}},"404":{"description":"Aluno não encontrado"}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/{id}/timeline":{"post":{"operationId":"StudentsController_addTimelineEvent","summary":"Adicionar evento ao histórico","description":"Adiciona um novo evento ao histórico do aluno","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTimelineEventDto"}}}},"responses":{"201":{"description":"Evento adicionado com sucesso","content":{"application/json":{"schema":{"type":"object"}}}},"404":{"description":"Aluno não encontrado"}},"tags":["Students"],"security":[{"bearer":[]}]},"get":{"operationId":"StudentsController_getTimeline","summary":"Obter histórico do aluno","description":"Retorna o histórico completo de eventos do aluno","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"type":"string"}}],"responses":{"200":{"description":"Histórico retornado com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}},"404":{"description":"Aluno não encontrado"}},"tags":["Students"],"security":[{"bearer":[]}]}},"/students/{id}/invoices":{"get":{"operationId":"StudentsController_getInvoices","summary":"Listar faturas do aluno","description":"Retorna todas as faturas do aluno com informações de pagamento","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do aluno","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de faturas retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}},"404":{"description":"Aluno não encontrado"}},"tags":["Students"],"security":[{"bearer":[]}]}},"/teachers":{"post":{"operationId":"TeachersController_create","summary":"Criar novo professor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTeacherDto"}}}},"responses":{"201":{"description":"Professor criado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherWithUser"}}}},"400":{"description":"Usuário não encontrado, não tem role PROFESSOR, ou já está vinculado a um professor"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado - role insuficiente"}},"tags":["teachers"],"security":[{"bearer":[]}]},"get":{"operationId":"TeachersController_findAll","summary":"Listar todos os professores","parameters":[],"responses":{"200":{"description":"Lista de professores retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TeacherWithUser"}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado - role insuficiente"}},"tags":["teachers"],"security":[{"bearer":[]}]}},"/teachers/profile":{"get":{"operationId":"TeachersController_getProfile","summary":"Ver perfil do professor logado","parameters":[],"responses":{"200":{"description":"Perfil do professor retornado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherWithUser"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado - apenas professores"},"404":{"description":"Professor não encontrado"}},"tags":["teachers"],"security":[{"bearer":[]}]},"put":{"operationId":"TeachersController_updateProfile","summary":"Atualizar perfil do professor logado","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTeacherDto"}}}},"responses":{"200":{"description":"Perfil atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherWithUser"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado - apenas professores"},"404":{"description":"Professor não encontrado"}},"tags":["teachers"],"security":[{"bearer":[]}]}},"/teachers/{id}":{"get":{"operationId":"TeachersController_findOne","summary":"Buscar professor por ID","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do professor","schema":{"example":"teacher-uuid-id","type":"string"}}],"responses":{"200":{"description":"Professor encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherWithUser"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado - role insuficiente"},"404":{"description":"Professor não encontrado"}},"tags":["teachers"],"security":[{"bearer":[]}]},"put":{"operationId":"TeachersController_update","summary":"Atualizar professor","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do professor","schema":{"example":"teacher-uuid-id","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTeacherDto"}}}},"responses":{"200":{"description":"Professor atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherWithUser"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado - role insuficiente"},"404":{"description":"Professor não encontrado"}},"tags":["teachers"],"security":[{"bearer":[]}]},"delete":{"operationId":"TeachersController_remove","summary":"Remover professor","parameters":[{"name":"id","required":true,"in":"path","description":"ID único do professor","schema":{"example":"teacher-uuid-id","type":"string"}}],"responses":{"200":{"description":"Professor removido com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherWithUser"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado - apenas ADMIN"},"404":{"description":"Professor não encontrado"}},"tags":["teachers"],"security":[{"bearer":[]}]}},"/subjects":{"post":{"operationId":"SubjectsController_create","summary":"Criar nova disciplina","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSubjectDto"}}}},"responses":{"201":{"description":"Disciplina criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectWithTeachers"}}}},"400":{"description":"Um ou mais professores não foram encontrados"},"409":{"description":"Já existe uma disciplina com este nome"}},"tags":["subjects"],"security":[{"bearer":[]}]},"get":{"operationId":"SubjectsController_findAll","summary":"Listar todas as disciplinas","parameters":[],"responses":{"200":{"description":"Lista de disciplinas retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubjectWithTeachers"}}}}}},"tags":["subjects"],"security":[{"bearer":[]}]}},"/subjects/my-subjects":{"get":{"operationId":"SubjectsController_getMySubjects","summary":"Ver disciplinas do professor logado","parameters":[],"responses":{"200":{"description":"Disciplinas do professor retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Subject"}}}}}},"tags":["subjects"],"security":[{"bearer":[]}]}},"/subjects/{id}":{"get":{"operationId":"SubjectsController_findOne","summary":"Buscar disciplina por ID","parameters":[{"name":"id","required":true,"in":"path","description":"ID da disciplina","schema":{"type":"string"}}],"responses":{"200":{"description":"Disciplina encontrada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectWithTeachers"}}}},"404":{"description":"Disciplina não encontrada"}},"tags":["subjects"],"security":[{"bearer":[]}]},"patch":{"operationId":"SubjectsController_update","summary":"Atualizar disciplina","parameters":[{"name":"id","required":true,"in":"path","description":"ID da disciplina","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSubjectDto"}}}},"responses":{"200":{"description":"Disciplina atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectWithTeachers"}}}},"400":{"description":"Um ou mais professores não foram encontrados"},"404":{"description":"Disciplina não encontrada"},"409":{"description":"Já existe uma disciplina com este nome"}},"tags":["subjects"],"security":[{"bearer":[]}]},"delete":{"operationId":"SubjectsController_remove","summary":"Remover disciplina","parameters":[{"name":"id","required":true,"in":"path","description":"ID da disciplina","schema":{"type":"string"}}],"responses":{"200":{"description":"Disciplina removida com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectWithTeachers"}}}},"404":{"description":"Disciplina não encontrada"}},"tags":["subjects"],"security":[{"bearer":[]}]}},"/classes":{"post":{"operationId":"ClassesController_create","summary":"Criar nova turma","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClassDto"}}}},"responses":{"201":{"description":"Turma criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClassWithRelations"}}}},"400":{"description":"Número de alunos excede a capacidade da turma ou alunos/professores não encontrados"},"409":{"description":"Já existe uma turma com este nome no mesmo ano"}},"tags":["classes"],"security":[{"bearer":[]}]},"get":{"operationId":"ClassesController_findAll","summary":"Listar todas as turmas","parameters":[],"responses":{"200":{"description":"Lista de turmas retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SchoolClassWithRelations"}}}}}},"tags":["classes"],"security":[{"bearer":[]}]}},"/classes/by-year":{"get":{"operationId":"ClassesController_findByYear","summary":"Buscar turmas por ano letivo","parameters":[{"name":"year","required":true,"in":"query","description":"Ano letivo","schema":{"example":2024,"type":"number"}}],"responses":{"200":{"description":"Turmas do ano letivo retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SchoolClass"}}}}}},"tags":["classes"],"security":[{"bearer":[]}]}},"/classes/{id}":{"get":{"operationId":"ClassesController_findOne","summary":"Buscar turma por ID","parameters":[{"name":"id","required":true,"in":"path","description":"ID da turma","schema":{"type":"string"}}],"responses":{"200":{"description":"Turma encontrada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClassWithRelations"}}}},"404":{"description":"Turma não encontrada"}},"tags":["classes"],"security":[{"bearer":[]}]},"patch":{"operationId":"ClassesController_update","summary":"Atualizar turma","parameters":[{"name":"id","required":true,"in":"path","description":"ID da turma","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateClassDto"}}}},"responses":{"200":{"description":"Turma atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClassWithRelations"}}}},"400":{"description":"Número de alunos excede a capacidade da turma ou alunos/professores não encontrados"},"404":{"description":"Turma não encontrada"},"409":{"description":"Já existe uma turma com este nome no mesmo ano"}},"tags":["classes"],"security":[{"bearer":[]}]},"delete":{"operationId":"ClassesController_remove","summary":"Remover turma","parameters":[{"name":"id","required":true,"in":"path","description":"ID da turma","schema":{"type":"string"}}],"responses":{"200":{"description":"Turma removida com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClassWithRelations"}}}},"404":{"description":"Turma não encontrada"}},"tags":["classes"],"security":[{"bearer":[]}]}},"/enrollment":{"post":{"operationId":"EnrollmentController_create","summary":"Criar nova matrícula com estudante","description":"Endpoint principal para matricular estudantes. Verifica duplicação por BI ou nome+data de nascimento, cria o estudante se necessário e executa a matrícula no sistema escolar.","parameters":[],"requestBody":{"required":true,"description":"Dados completos do estudante e matrícula","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEnrollmentWithStudentDto"}}}},"responses":{"201":{"description":"Matrícula criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}},"400":{"description":"Dados inválidos ou turma sem capacidade disponível"},"401":{"description":"Não autorizado - Token inválido ou expirado"},"403":{"description":"Proibido - Sem permissão para esta operação"},"404":{"description":"Turma não encontrada no sistema"},"409":{"description":"Conflito - Estudante duplicado ou já matriculado"}},"tags":["enrollment"],"security":[{"bearer":[]}]},"get":{"operationId":"EnrollmentController_findAll","summary":"Listar todas as matrículas","description":"Retorna lista completa de matrículas com dados dos estudantes e turmas","parameters":[],"responses":{"200":{"description":"Lista de matrículas retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Sem permissão para visualizar matrículas"}},"tags":["enrollment"],"security":[{"bearer":[]}]}},"/enrollment/existing-student":{"post":{"operationId":"EnrollmentController_createForExistingStudent","summary":"Matricular estudante existente","description":"Cria matrícula para um estudante já cadastrado no sistema. Requer o ID do estudante.","parameters":[],"requestBody":{"required":true,"description":"Dados da matrícula com ID do estudante existente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEnrollmentDto"}}}},"responses":{"201":{"description":"Matrícula criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}},"400":{"description":"Turma já atingiu a capacidade máxima"},"404":{"description":"Estudante ou turma não encontrados"},"409":{"description":"Estudante já possui matrícula activa neste ano lectivo"}},"tags":["enrollment"],"security":[{"bearer":[]}]}},"/enrollment/by-year":{"get":{"operationId":"EnrollmentController_findByYear","summary":"Buscar matrículas por ano lectivo","description":"Filtra todas as matrículas de um ano lectivo específico","parameters":[{"name":"year","required":true,"in":"query","description":"Ano lectivo para filtrar as matrículas","schema":{"example":2025,"type":"number"}}],"responses":{"200":{"description":"Matrículas do ano lectivo retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}}},"400":{"description":"Parâmetro year inválido"}},"tags":["enrollment"],"security":[{"bearer":[]}]}},"/enrollment/by-class/{classId}":{"get":{"operationId":"EnrollmentController_findByClass","summary":"Buscar matrículas por turma","description":"Lista todos os estudantes matriculados numa turma específica","parameters":[{"name":"classId","required":true,"in":"path","description":"ID único da turma","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Matrículas da turma retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}}},"400":{"description":"ID da turma inválido"},"404":{"description":"Turma não encontrada no sistema"}},"tags":["enrollment"],"security":[{"bearer":[]}]}},"/enrollment/by-student/{studentId}":{"get":{"operationId":"EnrollmentController_findByStudent","summary":"Buscar histórico de matrículas do estudante","description":"Retorna todas as matrículas (actuais e anteriores) de um estudante específico","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID único do estudante","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Histórico de matrículas do estudante retornado com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}}},"400":{"description":"ID do estudante inválido"},"404":{"description":"Estudante não encontrado no sistema"}},"tags":["enrollment"],"security":[{"bearer":[]}]}},"/enrollment/{id}":{"get":{"operationId":"EnrollmentController_findOne","summary":"Buscar matrícula específica","description":"Retorna dados completos de uma matrícula através do seu ID","parameters":[{"name":"id","required":true,"in":"path","description":"ID único da matrícula","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Matrícula encontrada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}},"400":{"description":"ID da matrícula inválido"},"404":{"description":"Matrícula não encontrada"}},"tags":["enrollment"],"security":[{"bearer":[]}]},"patch":{"operationId":"EnrollmentController_update","summary":"Actualizar matrícula","description":"Permite actualizar o status da matrícula ou transferir o estudante para outra turma","parameters":[{"name":"id","required":true,"in":"path","description":"ID único da matrícula a actualizar","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"description":"Dados a actualizar na matrícula","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEnrollmentDto"}}}},"responses":{"200":{"description":"Matrícula actualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}},"400":{"description":"Dados inválidos ou turma sem capacidade"},"403":{"description":"Sem permissão para actualizar matrículas"},"404":{"description":"Matrícula ou turma não encontrada"}},"tags":["enrollment"],"security":[{"bearer":[]}]},"delete":{"operationId":"EnrollmentController_remove","summary":"Cancelar matrícula do estudante","description":"Cancela a matrícula alterando o status para CANCELLED. A matrícula não é removida fisicamente do sistema.","parameters":[{"name":"id","required":true,"in":"path","description":"ID único da matrícula a cancelar","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Matrícula cancelada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentWithRelations"}}}},"400":{"description":"ID da matrícula inválido"},"403":{"description":"Sem permissão para cancelar matrículas"},"404":{"description":"Matrícula não encontrada"}},"tags":["enrollment"],"security":[{"bearer":[]}]}},"/grades":{"post":{"operationId":"GradesController_create","summary":"Lançar nova nota","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGradeDto"}}}},"responses":{"201":{"description":"Nota lançada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradeWithRelations"}}}},"400":{"description":"Aluno não está matriculado nesta turma no ano especificado"},"403":{"description":"Professor não ministra esta disciplina ou não tem permissão"},"404":{"description":"Aluno, disciplina, professor ou turma não encontrados"},"409":{"description":"Já existe uma nota lançada para este aluno nesta disciplina"}},"tags":["grades"],"security":[{"bearer":[]}]},"get":{"operationId":"GradesController_findAll","summary":"Listar todas as notas com filtros opcionais","parameters":[{"name":"studentId","required":false,"in":"query","description":"ID do aluno","schema":{"type":"string"}},{"name":"subjectId","required":false,"in":"query","description":"ID da disciplina","schema":{"type":"string"}},{"name":"teacherId","required":false,"in":"query","description":"ID do professor","schema":{"type":"string"}},{"name":"classId","required":false,"in":"query","description":"ID da turma","schema":{"type":"string"}},{"name":"type","required":false,"in":"query","description":"Tipo de avaliação","schema":{"enum":["MAC","NPP","NPT","MT","FAL"],"type":"string"}},{"name":"term","required":false,"in":"query","description":"Trimestre (1, 2 ou 3)","schema":{"type":"number"}},{"name":"year","required":false,"in":"query","description":"Ano letivo","schema":{"type":"number"}},{"name":"studentName","required":false,"in":"query","description":"Nome do aluno (busca parcial)","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de notas retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GradeWithRelations"}}}}}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/by-student/{studentId}":{"get":{"operationId":"GradesController_findByStudent","summary":"Buscar notas por aluno","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno","schema":{"type":"string"}}],"responses":{"200":{"description":"Notas do aluno retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GradeWithRelations"}}}}},"404":{"description":"Aluno não encontrado"}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/by-class/{classId}":{"get":{"operationId":"GradesController_findByClass","summary":"Buscar notas por turma","parameters":[{"name":"classId","required":true,"in":"path","description":"ID da turma","schema":{"type":"string"}}],"responses":{"200":{"description":"Notas da turma retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GradeWithRelations"}}}}},"404":{"description":"Turma não encontrada"}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/by-subject/{subjectId}":{"get":{"operationId":"GradesController_findBySubject","summary":"Buscar notas por disciplina","parameters":[{"name":"subjectId","required":true,"in":"path","description":"ID da disciplina","schema":{"type":"string"}}],"responses":{"200":{"description":"Notas da disciplina retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GradeWithRelations"}}}}},"404":{"description":"Disciplina não encontrada"}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/{id}":{"get":{"operationId":"GradesController_findOne","summary":"Buscar nota por ID","parameters":[{"name":"id","required":true,"in":"path","description":"ID da nota","schema":{"type":"string"}}],"responses":{"200":{"description":"Nota encontrada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradeWithRelations"}}}},"404":{"description":"Nota não encontrada"}},"tags":["grades"],"security":[{"bearer":[]}]},"patch":{"operationId":"GradesController_update","summary":"Atualizar nota","parameters":[{"name":"id","required":true,"in":"path","description":"ID da nota","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGradeDto"}}}},"responses":{"200":{"description":"Nota atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradeWithRelations"}}}},"403":{"description":"Você só pode atualizar notas que você mesmo lançou"},"404":{"description":"Nota não encontrada"}},"tags":["grades"],"security":[{"bearer":[]}]},"delete":{"operationId":"GradesController_remove","summary":"Remover nota","parameters":[{"name":"id","required":true,"in":"path","description":"ID da nota","schema":{"type":"string"}}],"responses":{"200":{"description":"Nota removida com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradeWithRelations"}}}},"403":{"description":"Você só pode remover notas que você mesmo lançou"},"404":{"description":"Nota não encontrada"}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/angola/student/{studentId}/term/{term}":{"get":{"operationId":"GradesController_findByStudentAndTerm","summary":"Buscar notas de um aluno por trimestre (Sistema Angolano)","description":"Retorna todas as notas de um aluno em um trimestre específico, organizadas por disciplina e tipo (MAC, NPP, NPT, MT, FAL)","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno","schema":{"type":"string"}},{"name":"term","required":true,"in":"path","description":"Trimestre (1, 2 ou 3)","schema":{"type":"number"}},{"name":"year","required":false,"in":"query","description":"Ano letivo","schema":{"type":"number"}}],"responses":{"200":{"description":"Notas do aluno no trimestre retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GradeWithRelations"}}}}},"404":{"description":"Aluno não encontrado"}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/angola/type/{type}":{"get":{"operationId":"GradesController_findByType","summary":"Buscar notas por tipo de avaliação (Sistema Angolano)","description":"Retorna todas as notas de um tipo específico (MAC, NPP, NPT, MT, FAL)","parameters":[{"name":"type","required":true,"in":"path","description":"Tipo de avaliação (MAC, NPP, NPT, MT, FAL)","schema":{"enum":["MAC","NPP","NPT","MT","FAL"],"type":"string"}},{"name":"year","required":false,"in":"query","description":"Ano letivo","schema":{"type":"number"}}],"responses":{"200":{"description":"Notas do tipo retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GradeWithRelations"}}}}}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/angola/class/{classId}/term/{term}":{"get":{"operationId":"GradesController_findByClassAndTerm","summary":"Buscar notas de uma turma por trimestre (Sistema Angolano)","description":"Retorna todas as notas de uma turma em um trimestre específico, organizadas por aluno e disciplina","parameters":[{"name":"classId","required":true,"in":"path","description":"ID da turma","schema":{"type":"string"}},{"name":"term","required":true,"in":"path","description":"Trimestre (1, 2 ou 3)","schema":{"type":"number"}},{"name":"year","required":false,"in":"query","description":"Ano letivo","schema":{"type":"number"}}],"responses":{"200":{"description":"Notas da turma no trimestre retornadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GradeWithRelations"}}}}},"404":{"description":"Turma não encontrada"}},"tags":["grades"],"security":[{"bearer":[]}]}},"/grades/angola/calculate-mt/{studentId}/{subjectId}/{term}":{"get":{"operationId":"GradesController_calculateMT","summary":"Calcular Média Trimestral (MT) - Sistema Angolano","description":"Calcula a média trimestral de um aluno em uma disciplina baseado nas notas MAC, NPP e NPT. Fórmula: (MAC + NPP + NPT) / 3","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno","schema":{"type":"string"}},{"name":"subjectId","required":true,"in":"path","description":"ID da disciplina","schema":{"type":"string"}},{"name":"term","required":true,"in":"path","description":"Trimestre (1, 2 ou 3)","schema":{"type":"number"}},{"name":"year","required":false,"in":"query","description":"Ano letivo","schema":{"type":"number"}}],"responses":{"200":{"description":"Média trimestral calculada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"mt":{"type":"number","example":16.5,"description":"Média Trimestral calculada"},"studentId":{"type":"string","example":"uuid"},"subjectId":{"type":"string","example":"uuid"},"term":{"type":"number","example":1},"year":{"type":"number","example":2024}}}}}}},"tags":["grades"],"security":[{"bearer":[]}]}},"/report-cards/{studentId}":{"get":{"operationId":"ReportCardsController_getReportCard","summary":"Gerar boletim escolar de um aluno (Sistema Angolano)","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno","schema":{"type":"string"}},{"name":"year","required":true,"in":"query","description":"Ano letivo","schema":{"example":2024,"type":"number"}},{"name":"term","required":false,"in":"query","description":"Trimestre específico (1, 2, 3) ou omitir para boletim final","schema":{"example":1,"type":"number"}}],"responses":{"200":{"description":"Boletim escolar gerado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportCard"}}}},"400":{"description":"Aluno não possui matrícula ativa no ano especificado ou nenhuma nota encontrada"},"404":{"description":"Aluno não encontrado"}},"tags":["report-cards"],"security":[{"bearer":[]}]}},"/report-cards/class/{classId}/students":{"get":{"operationId":"ReportCardsController_getStudentsByClass","summary":"Listar alunos de uma turma para seleção de boletim","parameters":[{"name":"classId","required":true,"in":"path","description":"ID da turma","schema":{"type":"string"}},{"name":"year","required":true,"in":"query","description":"Ano letivo","schema":{"example":2024,"type":"number"}},{"name":"term","required":false,"in":"query","description":"Trimestre específico (1, 2, 3) ou omitir para boletim final","schema":{"example":1,"type":"number"}}],"responses":{"200":{"description":"Lista de alunos da turma retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StudentInfo"}}}}},"404":{"description":"Turma não encontrada"}},"tags":["report-cards"],"security":[{"bearer":[]}]}},"/report-cards/class/{classId}":{"get":{"operationId":"ReportCardsController_getClassReportCards","summary":"Gerar boletins de todos os alunos de uma turma (Sistema Angolano)","parameters":[{"name":"classId","required":true,"in":"path","description":"ID da turma","schema":{"type":"string"}},{"name":"year","required":true,"in":"query","description":"Ano letivo","schema":{"example":2024,"type":"number"}},{"name":"term","required":false,"in":"query","description":"Trimestre específico (1, 2, 3) ou omitir para boletim final","schema":{"example":1,"type":"number"}}],"responses":{"200":{"description":"Boletins da turma gerados com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReportCard"}}}}},"404":{"description":"Turma não encontrada"}},"tags":["report-cards"],"security":[{"bearer":[]}]}},"/report-cards/{studentId}/pdf":{"post":{"operationId":"ReportCardsController_downloadReportCardPdf","summary":"Gerar e baixar boletim escolar em PDF (Sistema Angolano)","description":"Gera um boletim escolar em PDF seguindo o padrão do MINED Angola com MAC, NPP, NPT, MT e FAL","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetReportCardDto"}}}},"responses":{"200":{"description":"PDF do boletim gerado com sucesso","headers":{"Content-Type":{"description":"application/pdf"},"Content-Disposition":{"description":"attachment; filename=\"boletim.pdf\""}}},"400":{"description":"Aluno não possui matrícula ativa no ano especificado ou nenhuma nota encontrada"},"404":{"description":"Aluno não encontrado"}},"tags":["report-cards"],"security":[{"bearer":[]}]}},"/documents/certificate":{"post":{"operationId":"DocumentsController_generateCertificate","summary":"Gerar certificado de conclusão","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateCertificateDto"}}}},"responses":{"200":{"description":"Certificado gerado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificateData"}}}},"400":{"description":"Dados inválidos ou aluno não possui matrícula no ano especificado"},"403":{"description":"Não é possível gerar certificado para aluno não aprovado"},"404":{"description":"Aluno não encontrado"}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/declaration":{"post":{"operationId":"DocumentsController_generateDeclaration","summary":"Gerar declaração de matrícula","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateDeclarationDto"}}}},"responses":{"200":{"description":"Declaração gerada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeclarationData"}}}},"400":{"description":"Dados inválidos ou aluno não possui matrícula ativa no ano especificado"},"404":{"description":"Aluno não encontrado"}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/transcript":{"post":{"operationId":"DocumentsController_generateTranscript","summary":"Gerar histórico escolar","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateTranscriptDto"}}}},"responses":{"200":{"description":"Histórico escolar gerado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptData"}}}},"400":{"description":"Dados inválidos ou nenhuma matrícula encontrada para o período especificado"},"404":{"description":"Aluno não encontrado"}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/pdf/health":{"get":{"operationId":"DocumentsController_getPdfHealth","summary":"Verificar status do serviço de PDF com estatísticas de cache","parameters":[],"responses":{"200":{"description":"Status do serviço de PDF e cache","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"browser":{"type":"boolean","example":true},"mode":{"type":"string","example":"production"},"cache":{"type":"object","properties":{"size":{"type":"number","example":5},"maxSize":{"type":"number","example":100},"maxAge":{"type":"number","example":1800}}}}}}}}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/pdf/clear-cache":{"post":{"operationId":"DocumentsController_clearPdfCache","summary":"Limpar cache de PDFs (apenas ADMIN)","parameters":[],"responses":{"200":{"description":"Cache de PDFs limpo com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Cache de PDFs limpo com sucesso"},"timestamp":{"type":"string","example":"2024-07-15T22:30:00.000Z"}}}}}}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/certificate/pdf":{"post":{"operationId":"DocumentsController_downloadCertificatePdf","summary":"Gerar e baixar certificado de conclusão em PDF","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateCertificateDto"}}}},"responses":{"200":{"description":"PDF do certificado gerado com sucesso","headers":{"Content-Type":{"description":"application/pdf"},"Content-Disposition":{"description":"attachment; filename=\"certificado.pdf\""}}},"400":{"description":"Dados inválidos ou aluno não possui matrícula no ano especificado"},"403":{"description":"Não é possível gerar certificado para aluno não aprovado"},"404":{"description":"Aluno não encontrado"}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/declaration/pdf":{"post":{"operationId":"DocumentsController_downloadDeclarationPdf","summary":"Gerar e baixar declaração de matrícula em PDF","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateDeclarationDto"}}}},"responses":{"200":{"description":"PDF da declaração gerado com sucesso","headers":{"Content-Type":{"description":"application/pdf"},"Content-Disposition":{"description":"attachment; filename=\"declaracao.pdf\""}}},"400":{"description":"Dados inválidos ou aluno não possui matrícula ativa no ano especificado"},"404":{"description":"Aluno não encontrado"}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/transcript/pdf":{"post":{"operationId":"DocumentsController_downloadTranscriptPdf","summary":"Gerar e baixar histórico escolar em PDF","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateTranscriptDto"}}}},"responses":{"200":{"description":"PDF do histórico escolar gerado com sucesso","headers":{"Content-Type":{"description":"application/pdf"},"Content-Disposition":{"description":"attachment; filename=\"historico.pdf\""}}},"400":{"description":"Dados inválidos ou nenhuma matrícula encontrada para o período especificado"},"404":{"description":"Aluno não encontrado"}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/certificate/with-pdf":{"post":{"operationId":"DocumentsController_generateCertificateWithPdf","summary":"Gerar certificado com dados JSON e PDF em base64","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateCertificateDto"}}}},"responses":{"200":{"description":"Certificado gerado com dados e PDF","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/CertificateData"},"pdf":{"type":"string","description":"PDF em base64"},"filename":{"type":"string","example":"certificado_123_2024.pdf"}}}}}}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/declaration/with-pdf":{"post":{"operationId":"DocumentsController_generateDeclarationWithPdf","summary":"Gerar declaração com dados JSON e PDF em base64","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateDeclarationDto"}}}},"responses":{"200":{"description":"Declaração gerada com dados e PDF","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/DeclarationData"},"pdf":{"type":"string","description":"PDF em base64"},"filename":{"type":"string","example":"declaracao_123_2024.pdf"}}}}}}},"tags":["documents"],"security":[{"bearer":[]}]}},"/documents/transcript/with-pdf":{"post":{"operationId":"DocumentsController_generateTranscriptWithPdf","summary":"Gerar histórico escolar com dados JSON e PDF em base64","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateTranscriptDto"}}}},"responses":{"200":{"description":"Histórico escolar gerado com dados e PDF","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/TranscriptData"},"pdf":{"type":"string","description":"PDF em base64"},"filename":{"type":"string","example":"historico_123.pdf"}}}}}}},"tags":["documents"],"security":[{"bearer":[]}]}},"/finance/invoice":{"post":{"operationId":"FinanceController_createInvoice","summary":"Criar nova fatura","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInvoiceDto"}}}},"responses":{"201":{"description":"Fatura criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceEntity"}}}},"400":{"description":"Dados inválidos ou fatura já existe para o período"},"404":{"description":"Aluno não encontrado"}},"tags":["finance"],"security":[{"bearer":[]}]}},"/finance/invoices":{"get":{"operationId":"FinanceController_findInvoices","summary":"Listar faturas com filtros e paginação","parameters":[{"name":"studentId","required":false,"in":"query","description":"ID do aluno para filtrar (opcional)","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"status","required":false,"in":"query","description":"Status da fatura para filtrar (opcional)","schema":{"example":"PENDENTE","enum":["PENDENTE","PAGA","VENCIDA","CANCELADA"],"type":"string"}},{"name":"month","required":false,"in":"query","description":"Mês de referência para filtrar (1-12, opcional)","schema":{"minimum":1,"maximum":12,"example":8,"type":"number"}},{"name":"year","required":false,"in":"query","description":"Ano de referência para filtrar (opcional)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}},{"name":"startDate","required":false,"in":"query","description":"Data inicial para filtrar por período (opcional)","schema":{"example":"2024-08-01","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Data final para filtrar por período (opcional)","schema":{"example":"2024-08-31","type":"string"}},{"name":"page","required":false,"in":"query","description":"Página para paginação (opcional, padrão: 1)","schema":{"minimum":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limite de itens por página (opcional, padrão: 10)","schema":{"minimum":1,"maximum":100,"example":10,"type":"number"}}],"responses":{"200":{"description":"Lista de faturas retornada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"invoices":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceEntity"}},"total":{"type":"number","example":50},"page":{"type":"number","example":1},"limit":{"type":"number","example":10},"totalPages":{"type":"number","example":5}}}}}}},"tags":["finance"],"security":[{"bearer":[]}]}},"/finance/invoice/{id}":{"get":{"operationId":"FinanceController_findInvoiceById","summary":"Buscar fatura por ID","parameters":[{"name":"id","required":true,"in":"path","description":"ID da fatura","schema":{"type":"string"}}],"responses":{"200":{"description":"Fatura encontrada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceEntity"}}}},"404":{"description":"Fatura não encontrada"}},"tags":["finance"],"security":[{"bearer":[]}]},"delete":{"operationId":"FinanceController_deleteInvoice","summary":"Apagar fatura (apenas ADMIN)","parameters":[{"name":"id","required":true,"in":"path","description":"ID da fatura","schema":{"type":"string"}}],"responses":{"204":{"description":"Fatura apagada com sucesso"},"400":{"description":"Não é possível apagar fatura com pagamentos"},"404":{"description":"Fatura não encontrada"}},"tags":["finance"],"security":[{"bearer":[]}]}},"/finance/invoice/{id}/pdf":{"get":{"operationId":"FinanceController_downloadInvoicePdf","summary":"Gerar e baixar fatura em PDF","parameters":[{"name":"id","required":true,"in":"path","description":"ID da fatura","schema":{"type":"string"}}],"responses":{"200":{"description":"PDF da fatura gerado com sucesso","headers":{"Content-Type":{"description":"application/pdf"},"Content-Disposition":{"description":"attachment; filename=\"fatura.pdf\""}}},"404":{"description":"Fatura não encontrada"}},"tags":["finance"],"security":[{"bearer":[]}]}},"/finance/invoice/{id}/pay":{"post":{"operationId":"FinanceController_payInvoice","summary":"Registrar pagamento de fatura","parameters":[{"name":"id","required":true,"in":"path","description":"ID da fatura","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PayInvoiceDto"}}}},"responses":{"200":{"description":"Pagamento registrado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceEntity"}}}},"400":{"description":"Dados inválidos, fatura já paga ou valor excede saldo"},"404":{"description":"Fatura não encontrada"}},"tags":["finance"],"security":[{"bearer":[]}]}},"/finance/student/{id}/history":{"get":{"operationId":"FinanceController_getStudentFinancialHistory","summary":"Obter histórico financeiro completo do aluno","parameters":[{"name":"id","required":true,"in":"path","description":"ID do aluno","schema":{"type":"string"}}],"responses":{"200":{"description":"Histórico financeiro retornado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinancialHistoryEntity"}}}},"404":{"description":"Aluno não encontrado"}},"tags":["finance"],"security":[{"bearer":[]}]}},"/finance/invoice/{id}/cancel":{"post":{"operationId":"FinanceController_cancelInvoice","summary":"Cancelar fatura (apenas ADMIN)","parameters":[{"name":"id","required":true,"in":"path","description":"ID da fatura","schema":{"type":"string"}}],"responses":{"200":{"description":"Fatura cancelada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceEntity"}}}},"400":{"description":"Não é possível cancelar fatura com pagamentos"},"404":{"description":"Fatura não encontrada"}},"tags":["finance"],"security":[{"bearer":[]}]}},"/finance/reports/summary":{"get":{"operationId":"FinanceController_getFinancialSummary","summary":"Resumo financeiro geral (apenas ADMIN e DIRETOR)","parameters":[{"name":"year","required":false,"in":"query","description":"Ano para filtrar","schema":{"type":"number"}},{"name":"month","required":false,"in":"query","description":"Mês para filtrar","schema":{"type":"number"}}],"responses":{"200":{"description":"Resumo financeiro retornado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"period":{"type":"string","example":"2024-08"},"totalInvoices":{"type":"number","example":150},"totalAmount":{"type":"number","example":12825},"totalPaid":{"type":"number","example":9500},"totalPending":{"type":"number","example":3325},"overdueInvoices":{"type":"number","example":8},"overdueAmount":{"type":"number","example":680},"paymentMethods":{"type":"object","properties":{"TRANSFERENCIA":{"type":"number","example":5200},"MULTIBANCO":{"type":"number","example":3100},"DINHEIRO":{"type":"number","example":1200}}}}}}}}},"tags":["finance"],"security":[{"bearer":[]}]}},"/parents-portal/profile":{"get":{"operationId":"ParentsPortalController_getProfile","summary":"Obter perfil do responsável e filhos","parameters":[],"responses":{"200":{"description":"Perfil obtido com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParentEntity"}}}},"401":{"description":"Token de acesso inválido"},"404":{"description":"Responsável não encontrado"}},"tags":["parents-portal"],"security":[{"bearer":[]}]}},"/parents-portal/student/{studentId}/grades":{"get":{"operationId":"ParentsPortalController_getStudentGrades","summary":"Obter notas de um filho específico","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno/filho","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"year","required":false,"in":"query","description":"Ano letivo (opcional)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}}],"responses":{"200":{"description":"Notas obtidas com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentGradesEntity"}}}},"401":{"description":"Token de acesso inválido"},"403":{"description":"Acesso negado para este aluno"},"404":{"description":"Aluno não encontrado"}},"tags":["parents-portal"],"security":[{"bearer":[]}]}},"/parents-portal/student/{studentId}/payments":{"get":{"operationId":"ParentsPortalController_getStudentPayments","summary":"Obter informações financeiras de um filho específico","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno/filho","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"year","required":false,"in":"query","description":"Ano letivo (opcional)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}},{"name":"status","required":false,"in":"query","description":"Status do pagamento (opcional)","schema":{"enum":["ALL","PENDENTE","PAGA","VENCIDA"],"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Limite de registros (opcional, padrão: 20)","schema":{"minimum":1,"maximum":100,"example":20,"type":"number"}}],"responses":{"200":{"description":"Informações de pagamento obtidas com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentPaymentsEntity"}}}},"401":{"description":"Token de acesso inválido"},"403":{"description":"Acesso negado para este aluno"},"404":{"description":"Aluno não encontrado"}},"tags":["parents-portal"],"security":[{"bearer":[]}]}},"/parents-portal/student/{studentId}/documents":{"get":{"operationId":"ParentsPortalController_getStudentDocuments","summary":"Obter documentos de um filho específico","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno/filho","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Documentos obtidos com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DocumentEntity"}}}}},"401":{"description":"Token de acesso inválido"},"403":{"description":"Acesso negado para este aluno"},"404":{"description":"Aluno não encontrado"}},"tags":["parents-portal"],"security":[{"bearer":[]}]}},"/parents-portal/messages":{"get":{"operationId":"ParentsPortalController_getSchoolMessages","summary":"Obter comunicados da escola","parameters":[],"responses":{"200":{"description":"Comunicados obtidos com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageEntity"}}}}},"401":{"description":"Token de acesso inválido"},"404":{"description":"Responsável não encontrado"}},"tags":["parents-portal"],"security":[{"bearer":[]}]}},"/parents-portal/student/{studentId}/docs/{docId}/download":{"get":{"operationId":"ParentsPortalController_downloadDocument","summary":"Fazer download de documento específico do filho","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno/filho","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"docId","required":true,"in":"path","description":"ID do documento","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Download iniciado com sucesso","content":{"application/pdf":{}}},"401":{"description":"Token de acesso inválido"},"403":{"description":"Acesso negado para este documento"},"404":{"description":"Documento não encontrado"}},"tags":["parents-portal"],"security":[{"bearer":[]}]}},"/attendance/mark":{"post":{"operationId":"AttendanceController_markAttendance","summary":"Registrar presenças da turma","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkAttendanceDto"}}}},"responses":{"201":{"description":"Presenças registradas com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Chamada registrada com sucesso"},"created":{"type":"number","example":20},"updated":{"type":"number","example":5}}}}}},"400":{"description":"Dados inválidos ou data futura"},"403":{"description":"Professor não leciona esta disciplina/turma"},"404":{"description":"Turma, disciplina ou alunos não encontrados"},"409":{"description":"Chamada já registrada para esta data/turma/disciplina"}},"tags":["attendance"],"security":[{"bearer":[]}]}},"/attendance/class/{classId}":{"get":{"operationId":"AttendanceController_getClassAttendance","summary":"Ver presenças da turma","parameters":[{"name":"classId","required":true,"in":"path","description":"ID da turma","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"date","required":true,"in":"query","description":"Data da chamada","schema":{"example":"2024-08-15","type":"string"}},{"name":"subjectId","required":false,"in":"query","description":"ID da disciplina (opcional)","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Relatório de presenças da turma","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassAttendanceReport"}}}},"404":{"description":"Turma não encontrada"}},"tags":["attendance"],"security":[{"bearer":[]}]}},"/attendance/student/{studentId}":{"get":{"operationId":"AttendanceController_getStudentAttendance","summary":"Ver frequência do aluno","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID do aluno","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Data inicial (opcional)","schema":{"example":"2024-08-01","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Data final (opcional)","schema":{"example":"2024-08-31","type":"string"}},{"name":"subjectId","required":false,"in":"query","description":"ID da disciplina (opcional)","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"page","required":false,"in":"query","description":"Página para paginação","schema":{"minimum":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limite de itens por página","schema":{"minimum":1,"maximum":100,"example":20,"type":"number"}}],"responses":{"200":{"description":"Resumo de frequência do aluno","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentAttendanceSummary"}}}},"404":{"description":"Aluno não encontrado"}},"tags":["attendance"],"security":[{"bearer":[]}]}},"/attendance":{"get":{"operationId":"AttendanceController_listAttendances","summary":"Listar registros de presença","parameters":[{"name":"startDate","required":false,"in":"query","description":"Data inicial (opcional)","schema":{"example":"2024-08-01","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Data final (opcional)","schema":{"example":"2024-08-31","type":"string"}},{"name":"subjectId","required":false,"in":"query","description":"ID da disciplina (opcional)","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"studentId","required":false,"in":"query","description":"ID do aluno (opcional)","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"page","required":false,"in":"query","description":"Página (opcional)","schema":{"minimum":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limite por página (opcional)","schema":{"minimum":1,"maximum":100,"example":20,"type":"number"}}],"responses":{"200":{"description":"Lista de registros de presença","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttendanceListResponse"}}}}},"tags":["attendance"],"security":[{"bearer":[]}]}},"/attendance/{attendanceId}":{"patch":{"operationId":"AttendanceController_updateAttendance","summary":"Editar uma chamada","parameters":[{"name":"attendanceId","required":true,"in":"path","description":"ID do registro de presença","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAttendanceDto"}}}},"responses":{"200":{"description":"Registro de presença atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttendanceEntity"}}}},"403":{"description":"Apenas ADMIN e SECRETARIA podem editar"},"404":{"description":"Registro de presença não encontrado"}},"tags":["attendance"],"security":[{"bearer":[]}]},"delete":{"operationId":"AttendanceController_deleteAttendance","summary":"Apagar uma chamada (ADMIN only)","parameters":[{"name":"attendanceId","required":true,"in":"path","description":"ID do registro de presença","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Registro de presença deletado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Registro de presença deletado com sucesso"}}}}}},"403":{"description":"Apenas ADMIN pode deletar"},"404":{"description":"Registro de presença não encontrado"}},"tags":["attendance"],"security":[{"bearer":[]}]}},"/communication/messages":{"post":{"operationId":"CommunicationController_createMessage","summary":"Criar nova mensagem","description":"Cria uma nova mensagem interna para envio aos destinatários especificados","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMessageDto"}}}},"responses":{"201":{"description":"Mensagem criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageEntity"}}}},"400":{"description":"Dados inválidos ou nenhum destinatário encontrado"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para criar mensagens"}},"tags":["Communication"],"security":[{"bearer":[]}]}},"/communication/inbox":{"get":{"operationId":"CommunicationController_getInboxMessages","summary":"Listar mensagens da caixa de entrada","description":"Retorna as mensagens destinadas ao usuário autenticado com filtros opcionais","parameters":[{"name":"priority","required":false,"in":"query","description":"Filtrar por prioridade","schema":{"example":"HIGH","enum":["LOW","NORMAL","HIGH","URGENT"],"type":"string"}},{"name":"audience","required":false,"in":"query","description":"Filtrar por público-alvo","schema":{"example":"PARENTS","enum":["PARENTS","TEACHERS","ALL_STAFF","SPECIFIC_CLASS","INDIVIDUAL","GROUP"],"type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Data inicial para filtrar","schema":{"example":"2024-01-01","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Data final para filtrar","schema":{"example":"2024-12-31","type":"string"}},{"name":"unread","required":false,"in":"query","description":"Filtrar apenas mensagens não lidas","schema":{"example":true,"type":"boolean"}},{"name":"search","required":false,"in":"query","description":"Buscar por termo no título ou conteúdo","schema":{"example":"reunião","type":"string"}},{"name":"includeExpired","required":false,"in":"query","description":"Incluir mensagens expiradas","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Página para paginação","schema":{"minimum":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limite de itens por página","schema":{"minimum":1,"maximum":100,"example":20,"type":"number"}}],"responses":{"200":{"description":"Lista de mensagens retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageListResponse"}}}},"401":{"description":"Token de autenticação inválido"}},"tags":["Communication"],"security":[{"bearer":[]}]}},"/communication/messages/{id}":{"get":{"operationId":"CommunicationController_getMessage","summary":"Buscar mensagem específica","description":"Retorna os detalhes completos de uma mensagem específica","parameters":[{"name":"id","required":true,"in":"path","description":"ID da mensagem","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Mensagem encontrada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageEntity"}}}},"401":{"description":"Token de autenticação inválido"},"404":{"description":"Mensagem não encontrada"}},"tags":["Communication"],"security":[{"bearer":[]}]},"put":{"operationId":"CommunicationController_updateMessage","summary":"Atualizar mensagem","description":"Atualiza uma mensagem existente (apenas criador, admin ou diretor)","parameters":[{"name":"id","required":true,"in":"path","description":"ID da mensagem","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMessageDto"}}}},"responses":{"200":{"description":"Mensagem atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageEntity"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para editar esta mensagem"},"404":{"description":"Mensagem não encontrada"}},"tags":["Communication"],"security":[{"bearer":[]}]},"delete":{"operationId":"CommunicationController_deleteMessage","summary":"Deletar mensagem","description":"Deleta uma mensagem (soft delete - apenas criador, admin ou diretor)","parameters":[{"name":"id","required":true,"in":"path","description":"ID da mensagem","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Mensagem deletada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Mensagem deletada com sucesso"}}}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para deletar esta mensagem"},"404":{"description":"Mensagem não encontrada"}},"tags":["Communication"],"security":[{"bearer":[]}]}},"/communication/messages/{id}/read":{"post":{"operationId":"CommunicationController_markMessageAsRead","summary":"Marcar mensagem como lida","description":"Marca uma mensagem específica como lida pelo usuário autenticado","parameters":[{"name":"id","required":true,"in":"path","description":"ID da mensagem","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Mensagem marcada como lida com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Mensagem marcada como lida"}}}}}},"401":{"description":"Token de autenticação inválido"},"404":{"description":"Mensagem não encontrada ou usuário sem acesso"}},"tags":["Communication"],"security":[{"bearer":[]}]}},"/communication/stats":{"get":{"operationId":"CommunicationController_getMessageStats","summary":"Obter estatísticas de mensagens","description":"Retorna estatísticas gerais sobre mensagens (apenas admin e diretor)","parameters":[],"responses":{"200":{"description":"Estatísticas retornadas com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatsEntity"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para acessar estatísticas"}},"tags":["Communication"],"security":[{"bearer":[]}]}},"/communication/sent":{"get":{"operationId":"CommunicationController_getSentMessages","summary":"Listar mensagens enviadas","description":"Retorna as mensagens enviadas pelo usuário autenticado","parameters":[{"name":"page","required":false,"in":"query","description":"Página para paginação","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limite de itens por página","schema":{"example":20,"type":"number"}}],"responses":{"200":{"description":"Lista de mensagens enviadas retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageListResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para acessar mensagens enviadas"}},"tags":["Communication"],"security":[{"bearer":[]}]}},"/analytics/overview":{"get":{"operationId":"AnalyticsController_getOverview","summary":"Dashboard geral do sistema","description":"Retorna métricas gerais incluindo totais de alunos, professores, turmas e indicadores principais","parameters":[{"name":"year","required":false,"in":"query","description":"Ano letivo para filtrar (padrão: ano atual)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}},{"name":"shift","required":false,"in":"query","description":"Turno para filtrar (MORNING, AFTERNOON, EVENING)","schema":{"example":"MORNING","type":"string"}},{"name":"classId","required":false,"in":"query","description":"ID da turma para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"disciplineId","required":false,"in":"query","description":"ID da disciplina para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"month","required":false,"in":"query","description":"Mês para filtrar (1-12)","schema":{"minimum":1,"maximum":12,"example":3,"type":"number"}}],"responses":{"200":{"description":"Métricas gerais retornadas com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OverviewResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para acessar analytics (apenas ADMIN/DIRETOR)"}},"tags":["Analytics"],"security":[{"bearer":[]}]}},"/analytics/attendance":{"get":{"operationId":"AnalyticsController_getAttendanceAnalytics","summary":"Relatório de frequência geral e por turma","description":"Análise detalhada de presença incluindo ranking de turmas, distribuição de faltas e tendências","parameters":[{"name":"year","required":false,"in":"query","description":"Ano letivo para filtrar (padrão: ano atual)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}},{"name":"shift","required":false,"in":"query","description":"Turno para filtrar (MORNING, AFTERNOON, EVENING)","schema":{"example":"MORNING","type":"string"}},{"name":"classId","required":false,"in":"query","description":"ID da turma para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"disciplineId","required":false,"in":"query","description":"ID da disciplina para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"month","required":false,"in":"query","description":"Mês para filtrar (1-12)","schema":{"minimum":1,"maximum":12,"example":3,"type":"number"}}],"responses":{"200":{"description":"Análise de frequência retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttendanceAnalyticsResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para acessar analytics de frequência"}},"tags":["Analytics"],"security":[{"bearer":[]}]}},"/analytics/grades":{"get":{"operationId":"AnalyticsController_getGradesAnalytics","summary":"Análise de desempenho escolar","description":"Métricas de notas incluindo médias por disciplina, aprovação/reprovação e ranking de turmas","parameters":[{"name":"year","required":false,"in":"query","description":"Ano letivo para filtrar (padrão: ano atual)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}},{"name":"shift","required":false,"in":"query","description":"Turno para filtrar (MORNING, AFTERNOON, EVENING)","schema":{"example":"MORNING","type":"string"}},{"name":"classId","required":false,"in":"query","description":"ID da turma para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"disciplineId","required":false,"in":"query","description":"ID da disciplina para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"month","required":false,"in":"query","description":"Mês para filtrar (1-12)","schema":{"minimum":1,"maximum":12,"example":3,"type":"number"}}],"responses":{"200":{"description":"Análise de desempenho retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradesAnalyticsResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para acessar analytics de notas (apenas ADMIN/DIRETOR)"}},"tags":["Analytics"],"security":[{"bearer":[]}]}},"/analytics/finance":{"get":{"operationId":"AnalyticsController_getFinanceAnalytics","summary":"Indicadores financeiros","description":"Análise financeira incluindo faturamento, recebimentos, inadimplência e projeções","parameters":[{"name":"year","required":false,"in":"query","description":"Ano letivo para filtrar (padrão: ano atual)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}},{"name":"shift","required":false,"in":"query","description":"Turno para filtrar (MORNING, AFTERNOON, EVENING)","schema":{"example":"MORNING","type":"string"}},{"name":"classId","required":false,"in":"query","description":"ID da turma para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"disciplineId","required":false,"in":"query","description":"ID da disciplina para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"month","required":false,"in":"query","description":"Mês para filtrar (1-12)","schema":{"minimum":1,"maximum":12,"example":3,"type":"number"}}],"responses":{"200":{"description":"Análise financeira retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinanceAnalyticsResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para acessar analytics financeiros (apenas ADMIN/DIRETOR)"}},"tags":["Analytics"],"security":[{"bearer":[]}]}},"/analytics/matriculation":{"get":{"operationId":"AnalyticsController_getMatriculationAnalytics","summary":"Distribuição e evolução das matrículas","description":"Análise de matrículas por turno, turma, crescimento mensal e distribuições demográficas","parameters":[{"name":"year","required":false,"in":"query","description":"Ano letivo para filtrar (padrão: ano atual)","schema":{"minimum":2020,"maximum":2030,"example":2024,"type":"number"}},{"name":"shift","required":false,"in":"query","description":"Turno para filtrar (MORNING, AFTERNOON, EVENING)","schema":{"example":"MORNING","type":"string"}},{"name":"classId","required":false,"in":"query","description":"ID da turma para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"disciplineId","required":false,"in":"query","description":"ID da disciplina para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"month","required":false,"in":"query","description":"Mês para filtrar (1-12)","schema":{"minimum":1,"maximum":12,"example":3,"type":"number"}}],"responses":{"200":{"description":"Análise de matrículas retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatriculationAnalyticsResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para acessar analytics de matrículas"}},"tags":["Analytics"],"security":[{"bearer":[]}]}},"/uploads/student/{id}":{"post":{"operationId":"UploadsController_uploadStudentFile","summary":"Upload de arquivo associado a aluno","description":"Permite upload de arquivos (PDF, JPG, PNG, DOCX) para aluno específico. Máximo 10MB.","parameters":[{"name":"id","required":true,"in":"path","description":"ID do aluno","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"Arquivo para upload (PDF, JPG, PNG, DOCX)"},"type":{"type":"string","enum":["MATRICULA","ATESTADO","AVALIACAO","HISTORICO","EXAME_MEDICO","OUTRO"],"description":"Tipo/categoria do arquivo"},"description":{"type":"string","description":"Descrição opcional do arquivo"}},"required":["file","type"]}}}},"responses":{"201":{"description":"Arquivo enviado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadResponse"}}}},"400":{"description":"Arquivo inválido ou dados incorretos"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para upload (apenas ADMIN/SECRETARIA)"},"404":{"description":"Aluno não encontrado"}},"tags":["Uploads"],"security":[{"bearer":[]}]}},"/uploads/teacher/{id}":{"post":{"operationId":"UploadsController_uploadTeacherFile","summary":"Upload de arquivo associado a professor","description":"Permite upload de arquivos (PDF, JPG, PNG, DOCX) para professor específico. Máximo 10MB.","parameters":[{"name":"id","required":true,"in":"path","description":"ID do professor","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"Arquivo para upload (PDF, JPG, PNG, DOCX)"},"type":{"type":"string","enum":["MATRICULA","ATESTADO","AVALIACAO","HISTORICO","EXAME_MEDICO","OUTRO"],"description":"Tipo/categoria do arquivo"},"description":{"type":"string","description":"Descrição opcional do arquivo"}},"required":["file","type"]}}}},"responses":{"201":{"description":"Arquivo enviado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadResponse"}}}},"400":{"description":"Arquivo inválido ou dados incorretos"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para upload (apenas ADMIN)"},"404":{"description":"Professor não encontrado"}},"tags":["Uploads"],"security":[{"bearer":[]}]}},"/uploads/{entity}/{id}":{"get":{"operationId":"UploadsController_listFiles","summary":"Listar arquivos por aluno ou professor","description":"Retorna lista paginada de arquivos associados a aluno ou professor específico","parameters":[{"name":"entity","required":true,"in":"path","description":"Tipo de entidade (student ou teacher)","schema":{"enum":["student","teacher"],"type":"string"}},{"name":"id","required":true,"in":"path","description":"ID da entidade","schema":{"format":"uuid","type":"string"}},{"name":"type","required":false,"in":"query","description":"Filtrar por tipo de arquivo","schema":{"enum":["MATRICULA","ATESTADO","AVALIACAO","HISTORICO","EXAME_MEDICO","OUTRO"],"type":"string"}},{"name":"studentId","required":false,"in":"query","description":"ID do aluno para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"teacherId","required":false,"in":"query","description":"ID do professor para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Data de início (ISO string)","schema":{"example":"2024-01-01T00:00:00Z","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Data de fim (ISO string)","schema":{"example":"2024-12-31T23:59:59Z","type":"string"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10)","schema":{"default":10,"example":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Buscar por nome do arquivo","schema":{"example":"certificado","type":"string"}}],"responses":{"200":{"description":"Lista de arquivos retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileListResponse"}}}},"400":{"description":"Parâmetros inválidos"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para listar arquivos"}},"tags":["Uploads"],"security":[{"bearer":[]}]}},"/uploads/file/{fileId}/download":{"get":{"operationId":"UploadsController_downloadFile","summary":"Download de arquivo","description":"Faz download do arquivo específico com Content-Disposition apropriado","parameters":[{"name":"fileId","required":true,"in":"path","description":"ID do arquivo","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Arquivo retornado com sucesso","headers":{"Content-Type":{"description":"Tipo MIME do arquivo"},"Content-Disposition":{"description":"Attachment com nome original do arquivo"}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para download"},"404":{"description":"Arquivo não encontrado"}},"tags":["Uploads"],"security":[{"bearer":[]}]}},"/uploads/file/{fileId}":{"delete":{"operationId":"UploadsController_deleteFile","summary":"Apagar arquivo","description":"Remove arquivo do servidor e do banco de dados","parameters":[{"name":"fileId","required":true,"in":"path","description":"ID do arquivo","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Arquivo deletado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Arquivo deletado com sucesso"}}}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para deletar (apenas ADMIN)"},"404":{"description":"Arquivo não encontrado"}},"tags":["Uploads"],"security":[{"bearer":[]}]},"get":{"operationId":"UploadsController_getFileInfo","summary":"Obter informações do arquivo","description":"Retorna metadados do arquivo sem fazer download","parameters":[{"name":"fileId","required":true,"in":"path","description":"ID do arquivo","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Informações do arquivo retornadas com sucesso"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para visualizar arquivo"},"404":{"description":"Arquivo não encontrado"}},"tags":["Uploads"],"security":[{"bearer":[]}]}},"/library/books":{"post":{"operationId":"LibraryController_createBook","summary":"Cadastrar novo livro","description":"Permite cadastrar novos livros no sistema da biblioteca","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookDto"}}}},"responses":{"201":{"description":"Livro cadastrado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookResponse"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para cadastrar livros (apenas ADMIN)"},"409":{"description":"ISBN já cadastrado"}},"tags":["Library"],"security":[{"bearer":[]}]},"get":{"operationId":"LibraryController_getBooks","summary":"Listar livros com filtros","description":"Retorna lista paginada de livros com opções de filtro e busca","parameters":[{"name":"title","required":false,"in":"query","description":"Buscar por título do livro","schema":{"example":"Dom Casmurro","type":"string"}},{"name":"author","required":false,"in":"query","description":"Buscar por autor do livro","schema":{"example":"Machado de Assis","type":"string"}},{"name":"isbn","required":false,"in":"query","description":"Buscar por ISBN","schema":{"example":"978-85-7326-158-9","type":"string"}},{"name":"availableOnly","required":false,"in":"query","description":"Mostrar apenas livros disponíveis","schema":{"example":true,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10)","schema":{"default":10,"example":10,"type":"number"}}],"responses":{"200":{"description":"Lista de livros retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BooksListResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para visualizar livros"}},"tags":["Library"],"security":[{"bearer":[]}]}},"/library/books/{id}":{"get":{"operationId":"LibraryController_getBookById","summary":"Ver detalhes de um livro","description":"Retorna informações detalhadas de um livro específico incluindo disponibilidade","parameters":[{"name":"id","required":true,"in":"path","description":"ID do livro","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Detalhes do livro retornados com sucesso"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para visualizar livro"},"404":{"description":"Livro não encontrado"}},"tags":["Library"],"security":[{"bearer":[]}]}},"/library/loan":{"post":{"operationId":"LibraryController_loanBook","summary":"Fazer empréstimo de livro","description":"Registra empréstimo de livro para aluno ou professor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanBookDto"}}}},"responses":{"201":{"description":"Empréstimo realizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanBookResponse"}}}},"400":{"description":"Dados inválidos ou livro não disponível"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para fazer empréstimos (apenas ADMIN/SECRETARIA)"},"404":{"description":"Livro, aluno ou professor não encontrado"}},"tags":["Library"],"security":[{"bearer":[]}]}},"/library/return/{loanId}":{"post":{"operationId":"LibraryController_returnBook","summary":"Marcar devolução de livro","description":"Processa devolução de livro emprestado","parameters":[{"name":"loanId","required":true,"in":"path","description":"ID do empréstimo","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReturnBookDto"}}}},"responses":{"200":{"description":"Devolução processada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReturnBookResponse"}}}},"400":{"description":"Livro já foi devolvido"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para processar devoluções (apenas ADMIN/SECRETARIA)"},"404":{"description":"Empréstimo não encontrado"}},"tags":["Library"],"security":[{"bearer":[]}]}},"/library/loans":{"get":{"operationId":"LibraryController_getLoans","summary":"Histórico de empréstimos","description":"Retorna lista paginada de empréstimos com filtros avançados","parameters":[{"name":"status","required":false,"in":"query","description":"Filtrar por status do empréstimo","schema":{"enum":["ACTIVE","RETURNED","OVERDUE"],"type":"string"}},{"name":"studentId","required":false,"in":"query","description":"ID do aluno para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"teacherId","required":false,"in":"query","description":"ID do professor para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"bookId","required":false,"in":"query","description":"ID do livro para filtrar","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}},{"name":"startLoanDate","required":false,"in":"query","description":"Data de início do empréstimo (ISO string)","schema":{"example":"2024-01-01T00:00:00Z","type":"string"}},{"name":"endLoanDate","required":false,"in":"query","description":"Data de fim do empréstimo (ISO string)","schema":{"example":"2024-12-31T23:59:59Z","type":"string"}},{"name":"startDueDate","required":false,"in":"query","description":"Data de início do vencimento (ISO string)","schema":{"example":"2024-01-01T00:00:00Z","type":"string"}},{"name":"endDueDate","required":false,"in":"query","description":"Data de fim do vencimento (ISO string)","schema":{"example":"2024-12-31T23:59:59Z","type":"string"}},{"name":"searchBook","required":false,"in":"query","description":"Buscar por título do livro","schema":{"example":"Dom Casmurro","type":"string"}},{"name":"searchBorrower","required":false,"in":"query","description":"Buscar por nome do emprestário","schema":{"example":"João Silva","type":"string"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10)","schema":{"default":10,"example":10,"type":"number"}}],"responses":{"200":{"description":"Lista de empréstimos retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoansListResponse"}}}},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Sem permissão para visualizar histórico (apenas ADMIN/DIRETOR)"}},"tags":["Library"],"security":[{"bearer":[]}]}},"/library/my-loans":{"get":{"operationId":"LibraryController_getMyLoans","summary":"Meus empréstimos (professores)","description":"Retorna lista de empréstimos do professor logado","parameters":[],"responses":{"200":{"description":"Lista de empréstimos do professor retornada com sucesso"},"401":{"description":"Token de autenticação inválido"},"403":{"description":"Apenas professores podem acessar este endpoint"},"404":{"description":"Professor não encontrado"}},"tags":["Library"],"security":[{"bearer":[]}]}},"/transport/routes":{"post":{"operationId":"TransportController_createRoute","summary":"Criar nova rota de transporte escolar","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRouteDto"}}}},"responses":{"201":{"description":"Rota de transporte criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransportRoute"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"409":{"description":"Rota com mesmo nome já existe"}},"tags":["Transport"],"security":[{"bearer":[]}]},"get":{"operationId":"TransportController_findAllRoutes","summary":"Listar todas as rotas de transporte com filtros","parameters":[{"name":"routeName","required":false,"in":"query","description":"Filtrar por nome da rota","schema":{"example":"Centro","type":"string"}},{"name":"driverName","required":false,"in":"query","description":"Filtrar por nome do motorista","schema":{"example":"João","type":"string"}},{"name":"vehicle","required":false,"in":"query","description":"Filtrar por identificação do veículo","schema":{"example":"ABC-1234","type":"string"}},{"name":"departure","required":false,"in":"query","description":"Filtrar por horário de saída (formato HH:mm)","schema":{"example":"07:00","type":"string"}},{"name":"returnTime","required":false,"in":"query","description":"Filtrar por horário de retorno (formato HH:mm)","schema":{"example":"17:30","type":"string"}},{"name":"stopName","required":false,"in":"query","description":"Filtrar por nome da paragem","schema":{"example":"Praça Central","type":"string"}},{"name":"page","required":false,"in":"query","description":"Número da página (padrão: 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Número de itens por página (padrão: 10, máximo: 100)","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Lista de rotas de transporte com paginação","content":{"application/json":{"schema":{"type":"object","properties":{"routes":{"type":"array","items":{"$ref":"#/components/schemas/TransportRoute"}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"pages":{"type":"number"}}}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Transport"],"security":[{"bearer":[]}]}},"/transport/routes/{id}":{"get":{"operationId":"TransportController_findRouteById","summary":"Ver detalhes da rota (paragens + alunos)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Detalhes da rota de transporte","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransportRoute"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Rota não encontrada"}},"tags":["Transport"],"security":[{"bearer":[]}]},"patch":{"operationId":"TransportController_updateRoute","summary":"Editar rota (veículo, condutor, horários)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Rota de transporte atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransportRoute"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Rota não encontrada"},"409":{"description":"Conflito com nome de rota existente"}},"tags":["Transport"],"security":[{"bearer":[]}]},"delete":{"operationId":"TransportController_deleteRoute","summary":"Apagar rota de transporte","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Rota de transporte eliminada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Rota tem alunos atribuídos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Rota não encontrada"}},"tags":["Transport"],"security":[{"bearer":[]}]}},"/transport/routes/{id}/students":{"post":{"operationId":"TransportController_assignStudentsToRoute","summary":"Atribuir alunos à rota","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignMultipleStudentsDto"}}}},"responses":{"201":{"description":"Alunos atribuídos à rota com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StudentTransport"}}}}},"400":{"description":"Dados inválidos ou paragem não existe"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Rota ou aluno não encontrado"},"409":{"description":"Aluno já tem transporte atribuído"}},"tags":["Transport"],"security":[{"bearer":[]}]}},"/transport/students/{id}":{"get":{"operationId":"TransportController_getStudentTransport","summary":"Consultar rota e paragem de um aluno","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Informações de transporte do aluno","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentTransport"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Aluno não tem transporte atribuído"}},"tags":["Transport"],"security":[{"bearer":[]}]},"put":{"operationId":"TransportController_updateStudentTransport","summary":"Atualizar transporte do aluno (paragem ou notas)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStudentTransportDto"}}}},"responses":{"200":{"description":"Transporte do aluno atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentTransport"}}}},"400":{"description":"Paragem não existe na rota"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Aluno não tem transporte atribuído"}},"tags":["Transport"],"security":[{"bearer":[]}]},"delete":{"operationId":"TransportController_removeStudentFromTransport","summary":"Remover aluno do transporte","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Aluno removido do transporte com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Aluno não tem transporte atribuído"}},"tags":["Transport"],"security":[{"bearer":[]}]}},"/transport/students":{"get":{"operationId":"TransportController_findAllStudentTransports","summary":"Listar todos os alunos com transporte atribuído","parameters":[{"name":"studentName","required":false,"in":"query","description":"Filtrar por nome do aluno","schema":{"example":"Maria","type":"string"}},{"name":"className","required":false,"in":"query","description":"Filtrar por nome da turma","schema":{"example":"9ª Classe A","type":"string"}},{"name":"routeName","required":false,"in":"query","description":"Filtrar por nome da rota","schema":{"example":"Centro","type":"string"}},{"name":"stopName","required":false,"in":"query","description":"Filtrar por nome da paragem","schema":{"example":"Praça Central","type":"string"}},{"name":"page","required":false,"in":"query","description":"Número da página (padrão: 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Número de itens por página (padrão: 10, máximo: 100)","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Lista de alunos com transporte e paginação","content":{"application/json":{"schema":{"type":"object","properties":{"transports":{"type":"array","items":{"$ref":"#/components/schemas/StudentTransport"}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"pages":{"type":"number"}}}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Transport"],"security":[{"bearer":[]}]}},"/events":{"post":{"operationId":"EventsController_createEvent","summary":"Criar novo evento","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEventDto"}}}},"responses":{"201":{"description":"Evento criado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Event"}}}},"400":{"description":"Dados inválidos ou data no passado"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"409":{"description":"Evento com mesmo título na mesma data já existe"}},"tags":["Events"],"security":[{"bearer":[]}]},"get":{"operationId":"EventsController_findAllEvents","summary":"Listar eventos com filtros","parameters":[{"name":"title","required":false,"in":"query","description":"Filtrar por título do evento","schema":{"example":"Festa","type":"string"}},{"name":"type","required":false,"in":"query","description":"Filtrar por tipo de evento","schema":{"example":"PALESTRA","enum":["PALESTRA","PASSEIO","REUNIAO","FORMATURA","OUTRO"],"type":"string"}},{"name":"location","required":false,"in":"query","description":"Filtrar por local do evento","schema":{"example":"Auditório","type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Filtrar eventos a partir desta data (formato ISO 8601)","schema":{"example":"2025-01-01T00:00:00Z","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Filtrar eventos até esta data (formato ISO 8601)","schema":{"example":"2025-12-31T23:59:59Z","type":"string"}},{"name":"futureOnly","required":false,"in":"query","description":"Filtrar apenas eventos futuros","schema":{"example":true,"type":"boolean"}},{"name":"pastOnly","required":false,"in":"query","description":"Filtrar apenas eventos passados","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Número da página (padrão: 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Número de itens por página (padrão: 10, máximo: 100)","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","description":"Ordenar por campo (date, title, type)","schema":{"example":"date","type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Direção da ordenação (asc, desc)","schema":{"example":"desc","type":"string"}}],"responses":{"200":{"description":"Lista de eventos com paginação e estatísticas","content":{"application/json":{"schema":{"type":"object","properties":{"events":{"type":"array","items":{"$ref":"#/components/schemas/Event"}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"pages":{"type":"number"}}}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/events/{id}":{"get":{"operationId":"EventsController_findEventById","summary":"Ver detalhes de um evento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Detalhes do evento com participantes","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Event"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Evento não encontrado"}},"tags":["Events"],"security":[{"bearer":[]}]},"patch":{"operationId":"EventsController_updateEvent","summary":"Editar evento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEventDto"}}}},"responses":{"200":{"description":"Evento atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Event"}}}},"400":{"description":"Dados inválidos ou data no passado"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Evento não encontrado"},"409":{"description":"Conflito com evento existente"}},"tags":["Events"],"security":[{"bearer":[]}]},"delete":{"operationId":"EventsController_deleteEvent","summary":"Apagar evento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Evento eliminado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Evento já ocorreu ou tem participantes"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Evento não encontrado"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/events/{id}/participate":{"post":{"operationId":"EventsController_registerParticipations","summary":"Registar alunos no evento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterMultipleParticipationsDto"}}}},"responses":{"201":{"description":"Alunos registados no evento com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventParticipation"}}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Evento ou aluno não encontrado"},"409":{"description":"Aluno já está registado no evento"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/events/{id}/participate/class":{"post":{"operationId":"EventsController_registerClassParticipation","summary":"Registar turma inteira no evento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterClassParticipationDto"}}}},"responses":{"201":{"description":"Turma registada no evento com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventParticipation"}}}}},"400":{"description":"Turma não tem alunos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Evento ou turma não encontrado"},"409":{"description":"Alunos já estão registados no evento"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/events/{id}/participants":{"get":{"operationId":"EventsController_getEventParticipants","summary":"Ver lista de participantes do evento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"studentName","required":false,"in":"query","description":"Filtrar por nome do aluno","schema":{"example":"João","type":"string"}},{"name":"className","required":false,"in":"query","description":"Filtrar por turma","schema":{"example":"9ª Classe A","type":"string"}},{"name":"presentOnly","required":false,"in":"query","description":"Filtrar apenas presentes","schema":{"example":true,"type":"boolean"}},{"name":"absentOnly","required":false,"in":"query","description":"Filtrar apenas ausentes","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Número da página (padrão: 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Número de itens por página (padrão: 10, máximo: 100)","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Lista de participantes com paginação e estatísticas","content":{"application/json":{"schema":{"type":"object","properties":{"participants":{"type":"array","items":{"$ref":"#/components/schemas/EventParticipation"}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"pages":{"type":"number"}}},"stats":{"type":"object","properties":{"totalParticipants":{"type":"number"},"totalPresent":{"type":"number"},"totalAbsent":{"type":"number"}}}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Evento não encontrado"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/events/participation/{id}":{"put":{"operationId":"EventsController_updateParticipation","summary":"Atualizar participação (presença e notas)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateParticipationDto"}}}},"responses":{"200":{"description":"Participação atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventParticipation"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Participação não encontrada"}},"tags":["Events"],"security":[{"bearer":[]}]},"delete":{"operationId":"EventsController_removeParticipation","summary":"Remover participação do evento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Participação removida com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Evento já ocorreu"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Participação não encontrada"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/events/{id}/presence/batch":{"put":{"operationId":"EventsController_batchUpdatePresence","summary":"Atualizar presença em lote","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchUpdatePresenceDto"}}}},"responses":{"200":{"description":"Presenças atualizadas com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventParticipation"}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Evento ou participação não encontrado"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/events/student/{id}/events":{"get":{"operationId":"EventsController_getStudentEvents","summary":"Ver eventos de um aluno específico","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de eventos do aluno com estatísticas","content":{"application/json":{"schema":{"type":"object","properties":{"student":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}}},"participations":{"type":"array","items":{"$ref":"#/components/schemas/EventParticipation"}},"totalEvents":{"type":"number"},"totalPresent":{"type":"number"}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Aluno não encontrado"}},"tags":["Events"],"security":[{"bearer":[]}]}},"/settings":{"post":{"operationId":"SettingsController_createSetting","summary":"Criar nova configuração global","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSettingDto"}}}},"responses":{"201":{"description":"Configuração criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Setting"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"409":{"description":"Configuração com essa chave já existe"}},"tags":["Settings"],"security":[{"bearer":[]}]},"get":{"operationId":"SettingsController_findAllSettings","summary":"Listar configurações globais","parameters":[{"name":"key","required":false,"in":"query","description":"Buscar por chave","schema":{"example":"school","type":"string"}},{"name":"type","required":false,"in":"query","description":"Filtrar por tipo","schema":{"example":"STRING","enum":["STRING","NUMBER","BOOLEAN","JSON"],"type":"string"}},{"name":"isPublic","required":false,"in":"query","description":"Filtrar por configurações públicas","schema":{"example":true,"type":"boolean"}}],"responses":{"200":{"description":"Lista de configurações","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Setting"}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/key/{key}":{"get":{"operationId":"SettingsController_findSettingByKey","summary":"Buscar configuração por chave","parameters":[{"name":"key","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Configuração encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Setting"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Configuração não encontrada"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/{id}":{"get":{"operationId":"SettingsController_findSettingById","summary":"Buscar configuração por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Configuração encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Setting"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Configuração não encontrada"}},"tags":["Settings"],"security":[{"bearer":[]}]},"patch":{"operationId":"SettingsController_updateSetting","summary":"Atualizar configuração","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSettingDto"}}}},"responses":{"200":{"description":"Configuração atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Setting"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Configuração não encontrada"}},"tags":["Settings"],"security":[{"bearer":[]}]},"delete":{"operationId":"SettingsController_deleteSetting","summary":"Eliminar configuração","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Configuração eliminada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Configuração não encontrada"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/smtp":{"post":{"operationId":"SettingsController_createSmtpConfig","summary":"Configurar servidor SMTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSmtpConfigDto"}}}},"responses":{"201":{"description":"Configuração SMTP criada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmtpConfig"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"409":{"description":"Já existe uma configuração SMTP ativa"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/smtp/config":{"get":{"operationId":"SettingsController_findSmtpConfig","summary":"Ver configuração SMTP atual","parameters":[],"responses":{"200":{"description":"Configuração SMTP atual","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmtpConfig"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/smtp/{id}":{"patch":{"operationId":"SettingsController_updateSmtpConfig","summary":"Atualizar configuração SMTP","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSmtpConfigDto"}}}},"responses":{"200":{"description":"Configuração SMTP atualizada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmtpConfig"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Configuração SMTP não encontrada"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/smtp/test":{"post":{"operationId":"SettingsController_testSmtpConfig","summary":"Testar configuração SMTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestSmtpDto"}}}},"responses":{"200":{"description":"Email de teste enviado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Erro ao enviar email de teste"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Configuração SMTP não encontrada"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/webhooks":{"post":{"operationId":"SettingsController_createWebhook","summary":"Criar webhook","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWebhookDto"}}}},"responses":{"201":{"description":"Webhook criado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Webhook"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Settings"],"security":[{"bearer":[]}]},"get":{"operationId":"SettingsController_findAllWebhooks","summary":"Listar webhooks","parameters":[{"name":"name","required":false,"in":"query","description":"Filtrar por nome","schema":{"example":"Pagamentos","type":"string"}},{"name":"method","required":false,"in":"query","description":"Filtrar por método HTTP","schema":{"example":"POST","enum":["GET","POST","PUT","PATCH","DELETE"],"type":"string"}},{"name":"event","required":false,"in":"query","description":"Filtrar por evento","schema":{"example":"PAYMENT_RECEIVED","enum":["PAYMENT_RECEIVED","ENROLLMENT_CREATED","GRADE_ADDED","ATTENDANCE_MARKED","STUDENT_CREATED","TEACHER_CREATED","MESSAGE_SENT","INVOICE_GENERATED","DOCUMENT_GENERATED","USER_CREATED"],"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filtrar por status","schema":{"example":true,"type":"boolean"}}],"responses":{"200":{"description":"Lista de webhooks","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Webhook"}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/webhooks/{id}":{"get":{"operationId":"SettingsController_findWebhookById","summary":"Ver detalhes do webhook","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Detalhes do webhook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Webhook"}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Webhook não encontrado"}},"tags":["Settings"],"security":[{"bearer":[]}]},"patch":{"operationId":"SettingsController_updateWebhook","summary":"Atualizar webhook","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWebhookDto"}}}},"responses":{"200":{"description":"Webhook atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Webhook"}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Webhook não encontrado"}},"tags":["Settings"],"security":[{"bearer":[]}]},"delete":{"operationId":"SettingsController_deleteWebhook","summary":"Eliminar webhook","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Webhook eliminado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Webhook não encontrado"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/webhooks/{id}/test":{"post":{"operationId":"SettingsController_testWebhook","summary":"Testar webhook","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestWebhookDto"}}}},"responses":{"200":{"description":"Webhook testado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"status":{"type":"number"},"data":{"type":"object"}}}}}},"400":{"description":"Erro ao testar webhook"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"404":{"description":"Webhook não encontrado"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/backup":{"post":{"operationId":"SettingsController_createBackup","summary":"Criar backup do sistema","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBackupDto"}}}},"responses":{"201":{"description":"Backup criado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"filename":{"type":"string"},"size":{"type":"number"},"path":{"type":"string"},"checksum":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}}}},"400":{"description":"Dados inválidos"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"500":{"description":"Erro ao criar backup"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/backup/list":{"get":{"operationId":"SettingsController_listBackups","summary":"Listar backups disponíveis","parameters":[],"responses":{"200":{"description":"Lista de backups","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"size":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"checksum":{"type":"string"}}}}}}},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/backup/restore":{"post":{"operationId":"SettingsController_restoreBackup","summary":"Restaurar backup","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestoreBackupDto"}}}},"responses":{"200":{"description":"Backup restaurado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"restoredAt":{"type":"string","format":"date-time"}}}}}},"400":{"description":"Dados inválidos ou confirmação necessária"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"},"500":{"description":"Erro ao restaurar backup"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/settings/backup/{filename}":{"delete":{"operationId":"SettingsController_deleteBackup","summary":"Eliminar backup","parameters":[{"name":"filename","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Backup eliminado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Arquivo de backup não encontrado"},"401":{"description":"Não autorizado"},"403":{"description":"Acesso negado"}},"tags":["Settings"],"security":[{"bearer":[]}]}},"/schedules":{"post":{"operationId":"SchedulesController_create","summary":"Criar novo horário","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScheduleDto"}}}},"responses":{"201":{"description":"Horário criado com sucesso"},"400":{"description":"Dados inválidos"},"409":{"description":"Conflito de horário"}},"tags":["Schedules"],"security":[{"bearer":[]}]},"get":{"operationId":"SchedulesController_findAll","summary":"Listar todos os horários","parameters":[{"name":"teacherId","required":false,"in":"query","description":"Filtrar por professor","schema":{"type":"string"}},{"name":"weekday","required":false,"in":"query","description":"Filtrar por dia da semana","schema":{"type":"string"}},{"name":"subjectId","required":false,"in":"query","description":"Filtrar por disciplina","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de horários"}},"tags":["Schedules"],"security":[{"bearer":[]}]}},"/schedules/{id}":{"get":{"operationId":"SchedulesController_findOne","summary":"Buscar horário por ID","parameters":[{"name":"id","required":true,"in":"path","description":"ID do horário","schema":{"type":"string"}}],"responses":{"200":{"description":"Horário encontrado"},"404":{"description":"Horário não encontrado"}},"tags":["Schedules"],"security":[{"bearer":[]}]},"patch":{"operationId":"SchedulesController_update","summary":"Atualizar horário","parameters":[{"name":"id","required":true,"in":"path","description":"ID do horário","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateScheduleDto"}}}},"responses":{"200":{"description":"Horário atualizado com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Horário não encontrado"},"409":{"description":"Conflito de horário"}},"tags":["Schedules"],"security":[{"bearer":[]}]},"delete":{"operationId":"SchedulesController_remove","summary":"Remover horário","parameters":[{"name":"id","required":true,"in":"path","description":"ID do horário","schema":{"type":"string"}}],"responses":{"200":{"description":"Horário removido com sucesso"},"404":{"description":"Horário não encontrado"}},"tags":["Schedules"],"security":[{"bearer":[]}]}},"/schedules/teacher/{teacherId}":{"get":{"operationId":"SchedulesController_findByTeacher","summary":"Buscar horários de um professor específico","parameters":[{"name":"teacherId","required":true,"in":"path","description":"ID do professor","schema":{"type":"string"}}],"responses":{"200":{"description":"Horários do professor"},"404":{"description":"Professor não encontrado"}},"tags":["Schedules"],"security":[{"bearer":[]}]}},"/schedules/conflicts/{teacherId}":{"get":{"operationId":"SchedulesController_checkConflicts","summary":"Verificar conflitos de horário para um professor","parameters":[{"name":"teacherId","required":true,"in":"path","description":"ID do professor","schema":{"type":"string"}},{"name":"weekday","required":true,"in":"query","description":"Dia da semana","schema":{"type":"string"}},{"name":"startTime","required":true,"in":"query","description":"Horário de início","schema":{"type":"string"}},{"name":"endTime","required":true,"in":"query","description":"Horário de fim","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de conflitos"}},"tags":["Schedules"],"security":[{"bearer":[]}]}}},"info":{"title":"Escola Backend API","description":"API para gestão escolar - Sistema Synexa-SIS Angola","version":"1.0","contact":{}},"tags":[{"name":"enrollment","description":"Gestão de Matrículas"},{"name":"students","description":"Gestão de Estudantes"},{"name":"auth","description":"Autenticação"}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"Email do usuário","example":"admin@escola.com"},"password":{"type":"string","description":"Senha do usuário","example":"senha123"}},"required":["email","password"]},"AuthResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"Token JWT de acesso","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"user":{"type":"object","description":"Informações do usuário autenticado","properties":{"id":{"type":"string","example":"uuid"},"name":{"type":"string","example":"João Silva"},"email":{"type":"string","example":"joao.silva@escola.com"},"role":{"type":"string","enum":["ADMIN","SECRETARIA","PROFESSOR","DIRETOR"]}}}},"required":["accessToken","user"]},"LoginParentDto":{"type":"object","properties":{"email":{"type":"string","description":"Email do responsável","example":"maria.silva@email.com"},"password":{"type":"string","description":"Senha do responsável","example":"senhaSegura123","minLength":6,"maxLength":100}},"required":["email","password"]},"CreateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome completo do usuário","example":"João Silva"},"email":{"type":"string","description":"Email do usuário","example":"joao.silva@escola.com"},"password":{"type":"string","description":"Senha do usuário","example":"senha123","minLength":6},"role":{"type":"string","description":"Papel do usuário no sistema","enum":["ADMIN","SECRETARIA","PROFESSOR","DIRETOR","PARENT"],"example":"PROFESSOR"}},"required":["name","email","password","role"]},"CreateStudentDto":{"type":"object","properties":{"firstName":{"type":"string","description":"Primeiro nome do aluno","example":"João"},"lastName":{"type":"string","description":"Último nome do aluno","example":"Silva"},"gender":{"type":"string","description":"Gênero do aluno","enum":["MASCULINO","FEMININO"],"example":"MASCULINO"},"birthDate":{"type":"string","description":"Data de nascimento (ISO 8601)","example":"2010-05-15T00:00:00.000Z"},"biNumber":{"type":"string","description":"Número do Bilhete de Identidade do aluno","example":"003456789LA042"},"studentNumber":{"type":"string","description":"Número de matrícula único do aluno (gerado automaticamente se não fornecido)","example":"2024-0001"},"academicYear":{"type":"string","description":"Ano acadêmico","example":"2024"},"classId":{"type":"string","description":"ID da turma","example":"uuid-da-turma"},"profilePhotoUrl":{"type":"string","description":"URL da foto de perfil","example":"https://storage.example.com/photos/student123.jpg"},"guardianName":{"type":"string","description":"Nome completo do encarregado de educação","example":"Maria Silva"},"guardianPhone":{"type":"string","description":"Telefone do encarregado","example":"+244923456789"},"municipality":{"type":"string","description":"Município de residência","example":"Luanda"},"province":{"type":"string","description":"Província de residência","example":"Luanda"},"country":{"type":"string","description":"País de residência","example":"Angola","default":"Angola"},"parentEmail":{"type":"string","description":"Email dos pais/responsável","example":"pais@email.com"},"parentPhone":{"type":"string","description":"Telefone dos pais","example":"+244923456789"},"status":{"type":"string","description":"Status do aluno","enum":["ATIVO","TRANSFERIDO","DESISTENTE","CONCLUIDO"],"example":"ATIVO","default":"ATIVO"},"tags":{"description":"Tags do aluno","example":["bolsista","monitor","atleta"],"default":[],"type":"array","items":{"type":"string"}}},"required":["firstName","lastName","gender","birthDate","biNumber","academicYear","classId","guardianName","guardianPhone","municipality","province","country","parentEmail","parentPhone"]},"StudentStatisticsDto":{"type":"object","properties":{"total":{"type":"number","description":"Total de alunos"},"byStatus":{"type":"object","description":"Distribuição por status","example":{"ATIVO":150,"TRANSFERIDO":10,"DESISTENTE":5,"CONCLUIDO":20}},"byGender":{"type":"object","description":"Distribuição por género","example":{"MASCULINO":95,"FEMININO":90}},"byProvince":{"type":"object","description":"Distribuição por província","example":{"Luanda":100,"Benguela":50,"Huambo":35}},"byAcademicYear":{"type":"object","description":"Distribuição por ano letivo","example":{"2023":35,"2024":150}},"byClass":{"type":"object","description":"Distribuição por turma","example":{"10ª A":30,"10ª B":28,"11ª A":32}},"averageAge":{"type":"number","description":"Média de idade dos alunos","example":15.5},"byTags":{"type":"object","description":"Alunos com tags específicas","example":{"bolsista":20,"monitor":5,"atleta":15}}},"required":["total","byStatus","byGender","byProvince","byAcademicYear","byClass","averageAge","byTags"]},"UpdateStudentDto":{"type":"object","properties":{"firstName":{"type":"string","description":"Primeiro nome do aluno","example":"João"},"lastName":{"type":"string","description":"Último nome do aluno","example":"Silva"},"gender":{"type":"string","description":"Gênero do aluno","enum":["MASCULINO","FEMININO"],"example":"MASCULINO"},"birthDate":{"type":"string","description":"Data de nascimento (ISO 8601)","example":"2010-05-15T00:00:00.000Z"},"biNumber":{"type":"string","description":"Número do Bilhete de Identidade do aluno","example":"003456789LA042"},"studentNumber":{"type":"string","description":"Número de matrícula único do aluno (gerado automaticamente se não fornecido)","example":"2024-0001"},"academicYear":{"type":"string","description":"Ano acadêmico","example":"2024"},"classId":{"type":"string","description":"ID da turma","example":"uuid-da-turma"},"profilePhotoUrl":{"type":"string","description":"URL da foto de perfil","example":"https://storage.example.com/photos/student123.jpg"},"guardianName":{"type":"string","description":"Nome completo do encarregado de educação","example":"Maria Silva"},"guardianPhone":{"type":"string","description":"Telefone do encarregado","example":"+244923456789"},"municipality":{"type":"string","description":"Município de residência","example":"Luanda"},"province":{"type":"string","description":"Província de residência","example":"Luanda"},"country":{"type":"string","description":"País de residência","example":"Angola","default":"Angola"},"parentEmail":{"type":"string","description":"Email dos pais/responsável","example":"pais@email.com"},"parentPhone":{"type":"string","description":"Telefone dos pais","example":"+244923456789"},"status":{"type":"string","description":"Status do aluno","enum":["ATIVO","TRANSFERIDO","DESISTENTE","CONCLUIDO"],"example":"ATIVO","default":"ATIVO"},"tags":{"description":"Tags do aluno","example":["bolsista","monitor","atleta"],"default":[],"type":"array","items":{"type":"string"}}}},"CreateStudentNoteDto":{"type":"object","properties":{"content":{"type":"string","description":"Conteúdo da anotação","example":"Aluno demonstrou excelente participação nas atividades de grupo."},"type":{"type":"string","description":"Tipo de anotação","enum":["OBSERVACAO","ELOGIO","ADVERTENCIA"],"example":"OBSERVACAO"}},"required":["content","type"]},"CreateTimelineEventDto":{"type":"object","properties":{"eventType":{"type":"string","description":"Tipo de evento","enum":["MATRICULA","MUDANCA_TURMA","MUDANCA_STATUS","NOTA_PEDAGOGICA","DOCUMENTO_ENVIADO","PAGAMENTO_EFETUADO","FALTA_JUSTIFICADA","OUTRO"],"example":"MATRICULA"},"title":{"type":"string","description":"Título do evento","example":"Matrícula realizada"},"description":{"type":"string","description":"Descrição detalhada do evento","example":"Aluno matriculado na turma 10ª A para o ano letivo 2024"},"metadata":{"type":"object","description":"Metadados adicionais do evento","example":{"classId":"uuid-turma","previousClass":"9ª B"}}},"required":["eventType","title","description"]},"CreateTeacherDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID do usuário que será associado como professor","example":"user-uuid-id"},"bio":{"type":"string","description":"Biografia do professor","example":"Professor de Matemática com 10 anos de experiência em ensino fundamental e médio"},"qualification":{"type":"string","description":"Qualificação do professor","example":"Licenciatura em Matemática"},"specialization":{"type":"string","description":"Especialização do professor","example":"Matemática Aplicada"},"experience":{"type":"number","description":"Anos de experiência do professor","example":5}},"required":["userId"]},"TeacherWithUser":{"type":"object","properties":{"id":{"type":"string","description":"ID único do professor","example":"uuid-generated-id"},"userId":{"type":"string","description":"ID do usuário associado","example":"user-uuid-id"},"bio":{"type":"object","description":"Biografia do professor","example":"Professor de Matemática com 10 anos de experiência"},"qualification":{"type":"object","description":"Qualificação do professor","example":"Licenciatura em Matemática"},"specialization":{"type":"object","description":"Especialização do professor","example":"Matemática Aplicada"},"experience":{"type":"object","description":"Anos de experiência","example":5},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2024-01-01T10:00:00.000Z"},"user":{"type":"object","description":"Dados do usuário associado","properties":{"id":{"type":"string","example":"user-uuid-id"},"name":{"type":"string","example":"Prof. João Silva"},"email":{"type":"string","example":"joao.silva@escola.com"},"role":{"type":"string","example":"PROFESSOR"}}}},"required":["id","userId","createdAt","updatedAt","user"]},"UpdateTeacherDto":{"type":"object","properties":{"bio":{"type":"string","description":"Biografia do professor","example":"Professor de Matemática especializado em álgebra, com mestrado em Educação Matemática"},"qualification":{"type":"string","description":"Qualificação do professor","example":"Licenciatura em Matemática"},"specialization":{"type":"string","description":"Especialização do professor","example":"Matemática Aplicada"},"experience":{"type":"number","description":"Anos de experiência do professor","example":5}}},"CreateSubjectDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"description":{"type":"string","description":"Descrição da disciplina","example":"Disciplina de matemática fundamental e aplicada"},"code":{"type":"string","description":"Código único da disciplina","example":"MAT101"},"year":{"type":"string","description":"Ano letivo da disciplina","example":"1º Ano"},"category":{"type":"string","description":"Categoria da disciplina","enum":["Obrigatória","Opcional"],"example":"Obrigatória"},"credits":{"type":"number","description":"Número de créditos da disciplina","example":3,"minimum":1,"maximum":10},"workloadHours":{"type":"number","description":"Carga horária da disciplina em horas","example":60,"minimum":1,"maximum":500},"isActive":{"type":"boolean","description":"Se a disciplina está ativa","example":true,"default":true},"teacherIds":{"description":"IDs dos professores que irão lecionar a disciplina","example":["uuid-teacher-1","uuid-teacher-2"],"type":"array","items":{"type":"string"}}},"required":["name","code","year","category","credits","workloadHours"]},"SubjectWithTeachers":{"type":"object","properties":{"id":{"type":"string","description":"ID único da disciplina","example":"uuid-generated-id"},"name":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"description":{"type":"object","description":"Descrição da disciplina","example":"Disciplina de matemática fundamental e aplicada"},"code":{"type":"string","description":"Código único da disciplina","example":"MAT101"},"year":{"type":"string","description":"Ano letivo da disciplina","example":"1º Ano"},"category":{"type":"string","description":"Categoria da disciplina","enum":["OBRIGATORIA","OPCIONAL"],"example":"OBRIGATORIA"},"credits":{"type":"number","description":"Número de créditos da disciplina","example":3},"workloadHours":{"type":"number","description":"Carga horária da disciplina em horas","example":60},"isActive":{"type":"boolean","description":"Se a disciplina está ativa","example":true},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2024-01-01T10:00:00.000Z"},"teachers":{"type":"array","description":"Professores associados à disciplina","items":{"type":"object","properties":{"id":{"type":"string","example":"teacher-uuid-id"},"userId":{"type":"string","example":"user-uuid-id"},"bio":{"type":"string","example":"Professor especialista"},"user":{"type":"object","properties":{"id":{"type":"string","example":"user-uuid-id"},"name":{"type":"string","example":"Prof. João Silva"},"email":{"type":"string","example":"joao.silva@escola.com"},"role":{"type":"string","example":"PROFESSOR"}}}}}}},"required":["id","name","code","year","category","credits","workloadHours","isActive","createdAt","updatedAt","teachers"]},"Subject":{"type":"object","properties":{"id":{"type":"string","description":"ID único da disciplina","example":"uuid-generated-id"},"name":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"description":{"type":"object","description":"Descrição da disciplina","example":"Disciplina de matemática fundamental e aplicada"},"code":{"type":"string","description":"Código único da disciplina","example":"MAT101"},"year":{"type":"string","description":"Ano letivo da disciplina","example":"1º Ano"},"category":{"type":"string","description":"Categoria da disciplina","enum":["OBRIGATORIA","OPCIONAL"],"example":"OBRIGATORIA"},"credits":{"type":"number","description":"Número de créditos da disciplina","example":3},"workloadHours":{"type":"number","description":"Carga horária da disciplina em horas","example":60},"isActive":{"type":"boolean","description":"Se a disciplina está ativa","example":true},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2024-01-01T10:00:00.000Z"}},"required":["id","name","code","year","category","credits","workloadHours","isActive","createdAt","updatedAt"]},"UpdateSubjectDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"description":{"type":"string","description":"Descrição da disciplina","example":"Disciplina de matemática fundamental e aplicada"},"code":{"type":"string","description":"Código único da disciplina","example":"MAT101"},"year":{"type":"string","description":"Ano letivo da disciplina","example":"1º Ano"},"category":{"type":"string","description":"Categoria da disciplina","enum":["Obrigatória","Opcional"],"example":"Obrigatória"},"credits":{"type":"number","description":"Número de créditos da disciplina","example":3,"minimum":1,"maximum":10},"workloadHours":{"type":"number","description":"Carga horária da disciplina em horas","example":60,"minimum":1,"maximum":500},"isActive":{"type":"boolean","description":"Se a disciplina está ativa","example":true,"default":true},"teacherIds":{"description":"IDs dos professores que irão lecionar a disciplina","example":["uuid-teacher-1","uuid-teacher-2"],"type":"array","items":{"type":"string"}}}},"CreateClassDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome da turma","example":"3° Ano A"},"year":{"type":"number","description":"Ano letivo","example":2024},"shift":{"type":"string","description":"Turno da turma","example":"MORNING","enum":["MORNING","AFTERNOON","EVENING"]},"capacity":{"type":"number","description":"Capacidade máxima de alunos","example":30},"studentIds":{"description":"IDs dos alunos a serem matriculados na turma","example":["uuid-student-1","uuid-student-2"],"type":"array","items":{"type":"string"}},"teacherIds":{"description":"IDs dos professores responsáveis pela turma","example":["uuid-teacher-1","uuid-teacher-2"],"type":"array","items":{"type":"string"}}},"required":["name","year","shift","capacity"]},"SchoolClassWithRelations":{"type":"object","properties":{"id":{"type":"string","description":"ID único da turma","example":"uuid-generated-id"},"name":{"type":"string","description":"Nome da turma","example":"3° Ano A"},"year":{"type":"number","description":"Ano letivo","example":2024},"shift":{"type":"string","description":"Turno da turma","example":"MORNING","enum":["MORNING","AFTERNOON","EVENING"]},"capacity":{"type":"number","description":"Capacidade máxima de alunos","example":30},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2024-01-01T10:00:00.000Z"},"students":{"type":"array","description":"Alunos matriculados na turma","items":{"type":"object","properties":{"id":{"type":"string","example":"student-uuid-id"},"name":{"type":"string","example":"João Silva"},"email":{"type":"string","example":"joao.silva@email.com"},"birthDate":{"type":"string","example":"2010-05-15T00:00:00.000Z"},"createdAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"}}}},"teachers":{"type":"array","description":"Professores responsáveis pela turma","items":{"type":"object","properties":{"id":{"type":"string","example":"teacher-uuid-id"},"userId":{"type":"string","example":"user-uuid-id"},"bio":{"type":"string","example":"Professor especialista"},"user":{"type":"object","properties":{"id":{"type":"string","example":"user-uuid-id"},"name":{"type":"string","example":"Prof. João Silva"},"email":{"type":"string","example":"joao.silva@escola.com"},"role":{"type":"string","example":"PROFESSOR"}}}}}}},"required":["id","name","year","shift","capacity","createdAt","updatedAt","students","teachers"]},"SchoolClass":{"type":"object","properties":{"id":{"type":"string","description":"ID único da turma","example":"uuid-generated-id"},"name":{"type":"string","description":"Nome da turma","example":"3° Ano A"},"year":{"type":"number","description":"Ano letivo","example":2024},"shift":{"type":"string","description":"Turno da turma","example":"MORNING","enum":["MORNING","AFTERNOON","EVENING"]},"capacity":{"type":"number","description":"Capacidade máxima de alunos","example":30},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2024-01-01T10:00:00.000Z"}},"required":["id","name","year","shift","capacity","createdAt","updatedAt"]},"UpdateClassDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome da turma","example":"3° Ano A"},"year":{"type":"number","description":"Ano letivo","example":2024},"shift":{"type":"string","description":"Turno da turma","example":"MORNING","enum":["MORNING","AFTERNOON","EVENING"]},"capacity":{"type":"number","description":"Capacidade máxima de alunos","example":30},"studentIds":{"description":"IDs dos alunos a serem matriculados na turma","example":["uuid-student-1","uuid-student-2"],"type":"array","items":{"type":"string"}},"teacherIds":{"description":"IDs dos professores responsáveis pela turma","example":["uuid-teacher-1","uuid-teacher-2"],"type":"array","items":{"type":"string"}}}},"GuardianDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome completo do responsável/encarregado","example":"Maria Silva Santos"},"phone":{"type":"string","description":"Telefone/contacto do responsável","example":"+244923456789"},"email":{"type":"string","description":"Email do responsável (opcional)","example":"maria.santos@email.com"},"relationship":{"type":"string","description":"Grau de parentesco","example":"Mãe"},"address":{"type":"string","description":"Endereço completo do responsável","example":"Rua da Missão, 123, Maianga, Luanda"},"bi":{"type":"string","description":"Número do BI do responsável","example":"005678912LA041"}}},"StudentDto":{"type":"object","properties":{"firstName":{"type":"string","description":"Primeiro nome do estudante","example":"João","minLength":2,"maxLength":50},"lastName":{"type":"string","description":"Sobrenome/apelido do estudante","example":"Manuel da Silva","minLength":2,"maxLength":100},"gender":{"type":"string","description":"Género do estudante","example":"MASCULINO","enum":["MASCULINO","FEMININO"]},"birthDate":{"type":"string","description":"Data de nascimento (formato ISO)","example":"2010-03-15","format":"date"},"biNumber":{"type":"string","description":"Número do Bilhete de Identidade (Angola)","example":"003456789LA042","minLength":8,"maxLength":20},"province":{"type":"string","description":"Província de origem","example":"Luanda"},"municipality":{"type":"string","description":"Município de origem","example":"Maianga"},"tags":{"description":"Tags/etiquetas do aluno (opcional)","example":["bolsista","desportista"],"type":"array","items":{"type":"string"}},"guardian":{"description":"Dados do responsável/encarregado","allOf":[{"$ref":"#/components/schemas/GuardianDto"}]}},"required":["firstName","lastName","gender","birthDate","biNumber","province","municipality"]},"CreateEnrollmentWithStudentDto":{"type":"object","properties":{"student":{"description":"Dados do estudante para matrícula","allOf":[{"$ref":"#/components/schemas/StudentDto"}]},"academicYear":{"type":"number","description":"Ano letivo da matrícula","example":2025,"minimum":2020,"maximum":2030},"classId":{"type":"string","description":"ID da turma para matrícula","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","format":"uuid"},"status":{"type":"string","description":"Status inicial da matrícula","example":"ATIVA","enum":["ATIVA","PENDENTE","CANCELADA"],"default":"ATIVA"}},"required":["student","academicYear","classId"]},"EnrollmentWithRelations":{"type":"object","properties":{"id":{"type":"string","description":"ID único da matrícula","example":"uuid-generated-id"},"studentId":{"type":"string","description":"ID do aluno matriculado","example":"student-uuid-id"},"classId":{"type":"string","description":"ID da turma","example":"class-uuid-id"},"year":{"type":"number","description":"Ano letivo da matrícula","example":2024},"status":{"type":"string","description":"Status da matrícula","example":"ACTIVE","enum":["ACTIVE","TRANSFERRED","CANCELLED","PENDING"]},"createdAt":{"format":"date-time","type":"string","description":"Data de criação da matrícula","example":"2024-01-01T10:00:00.000Z"},"student":{"type":"object","description":"Dados do aluno matriculado","properties":{"id":{"type":"string","example":"student-uuid-id"},"name":{"type":"string","example":"João Silva"},"email":{"type":"string","example":"joao.silva@email.com"},"birthDate":{"type":"string","example":"2010-05-15T00:00:00.000Z"},"createdAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"}}},"class":{"type":"object","description":"Dados da turma","properties":{"id":{"type":"string","example":"class-uuid-id"},"name":{"type":"string","example":"3° Ano A"},"year":{"type":"number","example":2024},"shift":{"type":"string","example":"MORNING"},"capacity":{"type":"number","example":30},"createdAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"}}}},"required":["id","studentId","classId","year","status","createdAt","student","class"]},"CreateEnrollmentDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do estudante existente a ser matriculado","example":"uuid-student-id","format":"uuid"},"classId":{"type":"string","description":"ID da turma para matrícula","example":"uuid-class-id","format":"uuid"},"academicYear":{"type":"number","description":"Ano letivo da matrícula","example":2025,"minimum":2020,"maximum":2030},"status":{"type":"string","description":"Status inicial da matrícula","example":"ATIVA","enum":["ACTIVE","TRANSFERRED","CANCELLED","PENDING"],"default":"ACTIVE"}},"required":["studentId","classId","academicYear"]},"UpdateEnrollmentDto":{"type":"object","properties":{"status":{"type":"string","description":"Novo status da matrícula","example":"TRANSFERRED","enum":["ACTIVE","TRANSFERRED","CANCELLED","PENDING"]},"classId":{"type":"string","description":"Novo ID da turma (para transferência)","example":"uuid-new-class-id"}}},"CreateGradeDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do aluno","example":"uuid-student-id"},"subjectId":{"type":"string","description":"ID da disciplina","example":"uuid-subject-id"},"teacherId":{"type":"string","description":"ID do professor","example":"uuid-teacher-id"},"classId":{"type":"string","description":"ID da turma","example":"uuid-class-id"},"type":{"type":"string","description":"Tipo de avaliação","enum":["MAC","NPP","NPT","MT","FAL"],"example":"MAC"},"term":{"type":"number","description":"Trimestre (1, 2 ou 3)","example":1,"minimum":1,"maximum":3},"year":{"type":"number","description":"Ano letivo","example":2024},"value":{"type":"number","description":"Valor da nota (0-20 - Sistema Angolano)","example":16.5,"minimum":0,"maximum":20}},"required":["studentId","subjectId","teacherId","classId","type","term","year","value"]},"GradeWithRelations":{"type":"object","properties":{"id":{"type":"string","description":"ID único da nota","example":"uuid-generated-id"},"studentId":{"type":"string","description":"ID do aluno","example":"student-uuid-id"},"subjectId":{"type":"string","description":"ID da disciplina","example":"subject-uuid-id"},"teacherId":{"type":"string","description":"ID do professor","example":"teacher-uuid-id"},"classId":{"type":"string","description":"ID da turma","example":"class-uuid-id"},"type":{"type":"string","description":"Tipo de avaliação","enum":["MAC","NPP","NPT","MT","FAL"],"example":"MAC"},"term":{"type":"number","description":"Trimestre (1, 2 ou 3)","example":1},"year":{"type":"number","description":"Ano letivo","example":2024},"value":{"type":"number","description":"Valor da nota (0-20 - Sistema Angolano)","example":16.5},"createdAt":{"format":"date-time","type":"string","description":"Data de criação da nota","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização da nota","example":"2024-01-01T10:00:00.000Z"},"student":{"type":"object","description":"Dados do aluno","properties":{"id":{"type":"string","example":"student-uuid-id"},"name":{"type":"string","example":"João Silva"},"email":{"type":"string","example":"joao.silva@email.com"},"birthDate":{"type":"string","example":"2010-05-15T00:00:00.000Z"},"createdAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"}}},"subject":{"type":"object","description":"Dados da disciplina","properties":{"id":{"type":"string","example":"subject-uuid-id"},"name":{"type":"string","example":"Matemática"},"description":{"type":"string","example":"Disciplina de matemática fundamental"},"createdAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"}}},"teacher":{"type":"object","description":"Dados do professor","properties":{"id":{"type":"string","example":"teacher-uuid-id"},"userId":{"type":"string","example":"user-uuid-id"},"bio":{"type":"string","example":"Professor especialista"},"user":{"type":"object","properties":{"id":{"type":"string","example":"user-uuid-id"},"name":{"type":"string","example":"Prof. João Silva"},"email":{"type":"string","example":"joao.silva@escola.com"},"role":{"type":"string","example":"PROFESSOR"}}}}},"class":{"type":"object","description":"Dados da turma","properties":{"id":{"type":"string","example":"class-uuid-id"},"name":{"type":"string","example":"3° Ano A"},"year":{"type":"number","example":2024},"shift":{"type":"string","example":"MORNING"},"capacity":{"type":"number","example":30},"createdAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"},"updatedAt":{"type":"string","example":"2024-01-01T10:00:00.000Z"}}}},"required":["id","studentId","subjectId","teacherId","classId","type","term","year","value","createdAt","updatedAt","student","subject","teacher","class"]},"UpdateGradeDto":{"type":"object","properties":{"value":{"type":"number","description":"Novo valor da nota (0-10)","example":9}},"required":["value"]},"StudentInfo":{"type":"object","properties":{"id":{"type":"string","description":"ID do aluno","example":"uuid-student-id"},"name":{"type":"string","description":"Nome do aluno","example":"João Silva"},"fatherName":{"type":"string","description":"Nome do pai/responsável","example":"António Silva"},"parentEmail":{"type":"string","description":"Email dos pais/responsáveis","example":"pais.joao@email.com"},"studentNumber":{"type":"string","description":"Número de estudante","example":"EST2024001"},"birthDate":{"format":"date-time","type":"string","description":"Data de nascimento do aluno","example":"2010-05-15T00:00:00.000Z"},"photoUrl":{"type":"string","description":"URL da foto do aluno","example":"/uploads/photos/student123.jpg"}},"required":["id","name","parentEmail","studentNumber","birthDate"]},"ClassInfo":{"type":"object","properties":{"id":{"type":"string","description":"ID da turma","example":"uuid-class-id"},"name":{"type":"string","description":"Nome da turma","example":"3° Ano A"},"shift":{"type":"string","description":"Turno da turma","example":"MORNING","enum":["MORNING","AFTERNOON","EVENING"]},"capacity":{"type":"number","description":"Capacidade da turma","example":30}},"required":["id","name","shift","capacity"]},"AngolanGradeDetail":{"type":"object","properties":{"type":{"type":"string","description":"Tipo de avaliação","enum":["MAC","NPP","NPT","MT","FAL"],"example":"MAC"},"value":{"type":"number","description":"Valor da nota (0-20)","example":16.5},"term":{"type":"number","description":"Trimestre (1, 2, 3)","example":1}},"required":["type","value","term"]},"SubjectGrade":{"type":"object","properties":{"subjectId":{"type":"string","description":"ID da disciplina","example":"uuid-subject-id"},"subjectName":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"subjectDescription":{"type":"string","description":"Descrição da disciplina","example":"Disciplina de matemática fundamental"},"grades":{"description":"Notas por tipo (MAC, NPP, NPT, MT, FAL)","type":"array","items":{"$ref":"#/components/schemas/AngolanGradeDetail"}},"averageGrade":{"type":"number","description":"Média Trimestral calculada (MT)","example":16},"absences":{"type":"number","description":"Total de faltas","example":3},"teacherName":{"type":"string","description":"Nome do professor responsável","example":"Prof. João Silva"},"teacherEmail":{"type":"string","description":"Email do professor responsável","example":"joao.silva@escola.com"}},"required":["subjectId","subjectName","grades","absences","teacherName","teacherEmail"]},"ReportCard":{"type":"object","properties":{"student":{"description":"Informações do aluno","allOf":[{"$ref":"#/components/schemas/StudentInfo"}]},"class":{"description":"Informações da turma","allOf":[{"$ref":"#/components/schemas/ClassInfo"}]},"year":{"type":"number","description":"Ano letivo","example":2024},"term":{"type":"number","description":"Trimestre específico (1, 2, 3) ou null para boletim final","example":1},"subjects":{"description":"Notas por disciplina (Sistema Angolano)","type":"array","items":{"$ref":"#/components/schemas/SubjectGrade"}},"averageGrade":{"type":"number","description":"Média geral do aluno (0-20)","example":15.8},"attendancePercentage":{"type":"number","description":"Percentual de frequência","example":94.5},"status":{"type":"string","description":"Status de aprovação","example":"APROVADO","enum":["APROVADO","REPROVADO","EM_RECUPERACAO"]},"school":{"type":"object","description":"Informações da escola","properties":{"name":{"type":"string","example":"Complexo Escolar Privado Casa Inglesa"},"province":{"type":"string","example":"Luanda"},"municipality":{"type":"string","example":"Belas"}}},"generatedAt":{"format":"date-time","type":"string","description":"Data de geração do boletim","example":"2024-12-15T10:00:00.000Z"}},"required":["student","class","year","subjects","averageGrade","attendancePercentage","status","school","generatedAt"]},"GetReportCardDto":{"type":"object","properties":{"year":{"type":"number","description":"Ano letivo para geração do boletim","example":2024},"term":{"type":"number","description":"Trimestre específico (1, 2, 3) ou omitir para boletim final","example":1}},"required":["year"]},"GenerateCertificateDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do aluno para geração do certificado","example":"550e8400-e29b-41d4-a716-446655440000"},"year":{"type":"number","description":"Ano letivo de conclusão","example":2024,"minimum":2020,"maximum":2030}},"required":["studentId","year"]},"CertificateSubject":{"type":"object","properties":{"subjectName":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"finalGrade":{"type":"number","description":"Nota final da disciplina","example":8.5},"status":{"type":"string","description":"Status na disciplina","example":"APROVADO","enum":["APROVADO","REPROVADO"]}},"required":["subjectName","finalGrade","status"]},"CertificateData":{"type":"object","properties":{"documentType":{"type":"string","description":"Tipo do documento","example":"CERTIFICADO_CONCLUSAO"},"studentName":{"type":"string","description":"Nome completo do aluno","example":"João Silva Santos"},"birthDate":{"type":"string","description":"Data de nascimento do aluno","example":"2010-05-15"},"className":{"type":"string","description":"Nome da turma concluída","example":"3° Ano A"},"shift":{"type":"string","description":"Turno da turma","example":"MORNING","enum":["MORNING","AFTERNOON","EVENING"]},"year":{"type":"number","description":"Ano letivo de conclusão","example":2024},"subjects":{"description":"Disciplinas cursadas com notas","type":"array","items":{"$ref":"#/components/schemas/CertificateSubject"}},"overallAverage":{"type":"number","description":"Média geral de conclusão","example":8.2},"finalStatus":{"type":"string","description":"Status final do aluno","example":"APROVADO"},"institutionName":{"type":"string","description":"Nome da instituição","example":"Escola Synexa"},"city":{"type":"string","description":"Cidade da instituição","example":"São Paulo"},"issueDate":{"type":"string","description":"Data de emissão do certificado","example":"2024-12-15"},"issuer":{"type":"string","description":"Nome do emissor responsável","example":"Maria Silva - Diretora"},"issuerRole":{"type":"string","description":"Cargo do emissor","example":"Diretora Acadêmica"}},"required":["documentType","studentName","birthDate","className","shift","year","subjects","overallAverage","finalStatus","institutionName","city","issueDate","issuer","issuerRole"]},"GenerateDeclarationDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do aluno para geração da declaração","example":"550e8400-e29b-41d4-a716-446655440000"},"year":{"type":"number","description":"Ano letivo da matrícula","example":2024,"minimum":2020,"maximum":2030},"purpose":{"type":"string","description":"Finalidade da declaração","example":"Para fins de comprovação de matrícula escolar","maxLength":200}},"required":["studentId","year","purpose"]},"DeclarationData":{"type":"object","properties":{"documentType":{"type":"string","description":"Tipo do documento","example":"DECLARACAO_MATRICULA"},"studentName":{"type":"string","description":"Nome completo do aluno","example":"João Silva Santos"},"birthDate":{"type":"string","description":"Data de nascimento do aluno","example":"2010-05-15"},"className":{"type":"string","description":"Nome da turma atual","example":"3° Ano A"},"shift":{"type":"string","description":"Turno da turma","example":"MORNING","enum":["MORNING","AFTERNOON","EVENING"]},"year":{"type":"number","description":"Ano letivo atual","example":2024},"enrollmentStatus":{"type":"string","description":"Status da matrícula","example":"ACTIVE","enum":["ACTIVE","TRANSFERRED","CANCELLED","PENDING"]},"enrollmentDate":{"type":"string","description":"Data de matrícula","example":"2024-02-01"},"institutionName":{"type":"string","description":"Nome da instituição","example":"Escola Synexa"},"institutionAddress":{"type":"string","description":"Endereço da instituição","example":"Rua das Flores, 123 - Centro - São Paulo/SP"},"city":{"type":"string","description":"Cidade da instituição","example":"São Paulo"},"issueDate":{"type":"string","description":"Data de emissão da declaração","example":"2024-12-15"},"issuer":{"type":"string","description":"Nome do emissor responsável","example":"Maria Silva - Secretária"},"issuerRole":{"type":"string","description":"Cargo do emissor","example":"Secretária Escolar"},"purpose":{"type":"string","description":"Finalidade da declaração","example":"Para fins de comprovação de matrícula escolar"}},"required":["documentType","studentName","birthDate","className","shift","year","enrollmentStatus","enrollmentDate","institutionName","institutionAddress","city","issueDate","issuer","issuerRole","purpose"]},"GenerateTranscriptDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do aluno para geração do histórico","example":"550e8400-e29b-41d4-a716-446655440000"},"startYear":{"type":"number","description":"Ano inicial do histórico","example":2022,"minimum":2020,"maximum":2030},"endYear":{"type":"number","description":"Ano final do histórico","example":2024,"minimum":2020,"maximum":2030}},"required":["studentId"]},"TranscriptSubject":{"type":"object","properties":{"subjectName":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"year":{"type":"number","description":"Ano letivo cursado","example":2023},"finalGrade":{"type":"number","description":"Nota final da disciplina","example":8.5},"status":{"type":"string","description":"Status na disciplina","example":"APROVADO","enum":["APROVADO","REPROVADO"]},"workload":{"type":"number","description":"Carga horária da disciplina","example":80}},"required":["subjectName","year","finalGrade","status","workload"]},"TranscriptYear":{"type":"object","properties":{"year":{"type":"number","description":"Ano letivo","example":2023},"className":{"type":"string","description":"Nome da turma","example":"2° Ano A"},"subjects":{"description":"Disciplinas cursadas no ano","type":"array","items":{"$ref":"#/components/schemas/TranscriptSubject"}},"yearAverage":{"type":"number","description":"Média anual","example":8.2},"yearStatus":{"type":"string","description":"Status do ano letivo","example":"APROVADO","enum":["APROVADO","REPROVADO","EM_RECUPERACAO"]}},"required":["year","className","subjects","yearAverage","yearStatus"]},"TranscriptData":{"type":"object","properties":{"documentType":{"type":"string","description":"Tipo do documento","example":"HISTORICO_ESCOLAR"},"studentName":{"type":"string","description":"Nome completo do aluno","example":"João Silva Santos"},"birthDate":{"type":"string","description":"Data de nascimento do aluno","example":"2010-05-15"},"rg":{"type":"string","description":"RG do aluno","example":"12.345.678-9"},"cpf":{"type":"string","description":"CPF do aluno","example":"123.456.789-00"},"motherName":{"type":"string","description":"Nome da mãe","example":"Maria Silva Santos"},"fatherName":{"type":"string","description":"Nome do pai","example":"José Santos"},"years":{"description":"Anos letivos cursados","type":"array","items":{"$ref":"#/components/schemas/TranscriptYear"}},"overallAverage":{"type":"number","description":"Média geral do histórico","example":8},"overallStatus":{"type":"string","description":"Status geral do aluno","example":"APROVADO","enum":["APROVADO","REPROVADO","CURSANDO"]},"startDate":{"type":"string","description":"Data de início dos estudos","example":"2022-02-01"},"endDate":{"type":"string","description":"Data de conclusão (se aplicável)","example":"2024-12-15"},"institutionName":{"type":"string","description":"Nome da instituição","example":"Escola Synexa"},"institutionAddress":{"type":"string","description":"Endereço da instituição","example":"Rua das Flores, 123 - Centro - São Paulo/SP"},"city":{"type":"string","description":"Cidade da instituição","example":"São Paulo"},"issueDate":{"type":"string","description":"Data de emissão do histórico","example":"2024-12-15"},"issuer":{"type":"string","description":"Nome do emissor responsável","example":"Maria Silva - Diretora"},"issuerRole":{"type":"string","description":"Cargo do emissor","example":"Diretora Acadêmica"}},"required":["documentType","studentName","birthDate","rg","cpf","motherName","fatherName","years","overallAverage","overallStatus","startDate","institutionName","institutionAddress","city","issueDate","issuer","issuerRole"]},"CreateInvoiceDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do aluno","example":"550e8400-e29b-41d4-a716-446655440000"},"amount":{"type":"number","description":"Valor da fatura em euros","example":85.5,"minimum":0.01},"dueDate":{"type":"string","description":"Data de vencimento da fatura","example":"2024-08-15"},"description":{"type":"string","description":"Descrição da fatura","example":"Mensalidade - Agosto 2024","maxLength":200},"month":{"type":"number","description":"Mês de referência (1-12)","example":8,"minimum":1,"maximum":12},"year":{"type":"number","description":"Ano de referência","example":2024,"minimum":2020,"maximum":2030}},"required":["studentId","amount","dueDate","description","month","year"]},"StudentBasicInfo":{"type":"object","properties":{"id":{"type":"string","description":"ID único do aluno","example":"550e8400-e29b-41d4-a716-446655440000"},"name":{"type":"string","description":"Nome completo do aluno","example":"João Silva Santos"},"email":{"type":"string","description":"Email do aluno","example":"joao.santos@email.com"},"firstName":{"type":"string","description":"Primeiro nome do aluno","example":"João"},"lastName":{"type":"string","description":"Último nome do aluno","example":"Silva Santos"},"parentEmail":{"type":"string","description":"Email dos pais","example":"pais.joao@email.com"}},"required":["id","name","email","firstName","lastName","parentEmail"]},"PaymentEntity":{"type":"object","properties":{"id":{"type":"string","description":"ID único do pagamento","example":"550e8400-e29b-41d4-a716-446655440000"},"amount":{"type":"number","description":"Valor pago em euros","example":85.5},"method":{"type":"string","description":"Método de pagamento utilizado","example":"TRANSFERENCIA","enum":["DINHEIRO","TRANSFERENCIA","MULTIBANCO","MBWAY","CARTAO","CHEQUE"]},"reference":{"type":"string","description":"Referência do pagamento","example":"TRF20240815001"},"paidAt":{"type":"string","description":"Data e hora do pagamento","example":"2024-08-15T14:30:00.000Z"},"createdAt":{"type":"string","description":"Data de criação do registro","example":"2024-08-15T14:30:00.000Z"}},"required":["id","amount","method","paidAt","createdAt"]},"InvoiceEntity":{"type":"object","properties":{"id":{"type":"string","description":"ID único da fatura","example":"550e8400-e29b-41d4-a716-446655440000"},"amount":{"type":"number","description":"Valor total da fatura em euros","example":85.5},"dueDate":{"type":"string","description":"Data de vencimento","example":"2024-08-15"},"status":{"type":"string","description":"Status atual da fatura","example":"PENDENTE","enum":["PENDENTE","PAGA","VENCIDA","CANCELADA"]},"description":{"type":"string","description":"Descrição da fatura","example":"Mensalidade - Agosto 2024"},"month":{"type":"number","description":"Mês de referência (1-12)","example":8},"year":{"type":"number","description":"Ano de referência","example":2024},"student":{"description":"Informações básicas do aluno","allOf":[{"$ref":"#/components/schemas/StudentBasicInfo"}]},"payments":{"description":"Lista de pagamentos realizados","type":"array","items":{"$ref":"#/components/schemas/PaymentEntity"}},"totalPaid":{"type":"number","description":"Total pago até o momento","example":42.75},"remainingBalance":{"type":"number","description":"Saldo restante a pagar","example":42.75},"createdAt":{"type":"string","description":"Data de criação da fatura","example":"2024-07-15T10:00:00.000Z"},"updatedAt":{"type":"string","description":"Data da última atualização","example":"2024-08-15T14:30:00.000Z"}},"required":["id","amount","dueDate","status","description","month","year","student","payments","totalPaid","remainingBalance","createdAt","updatedAt"]},"PayInvoiceDto":{"type":"object","properties":{"amount":{"type":"number","description":"Valor do pagamento em euros","example":85.5,"minimum":0.01},"method":{"type":"string","description":"Método de pagamento","enum":["DINHEIRO","TRANSFERENCIA","MULTIBANCO","MBWAY","CARTAO","CHEQUE"],"example":"TRANSFERENCIA"},"reference":{"type":"string","description":"Referência do pagamento (opcional)","example":"TRF20240815001","maxLength":100}},"required":["amount","method"]},"FinancialHistoryEntity":{"type":"object","properties":{"student":{"description":"Informações do aluno","allOf":[{"$ref":"#/components/schemas/StudentBasicInfo"}]},"invoices":{"description":"Lista de faturas do aluno","type":"array","items":{"$ref":"#/components/schemas/InvoiceEntity"}},"summary":{"type":"object","description":"Resumo financeiro","properties":{"totalInvoices":{"type":"number","example":10},"totalAmount":{"type":"number","example":855},"totalPaid":{"type":"number","example":427.5},"totalPending":{"type":"number","example":427.5},"overdueCount":{"type":"number","example":2}}}},"required":["student","invoices","summary"]},"StudentBasicEntity":{"type":"object","properties":{"id":{"type":"string","description":"ID único do aluno","example":"550e8400-e29b-41d4-a716-446655440000"},"name":{"type":"string","description":"Nome completo do aluno","example":"João Silva Santos"},"email":{"type":"string","description":"Email do aluno","example":"joao.santos@email.com"},"birthDate":{"type":"string","description":"Data de nascimento","example":"2010-05-15"},"schoolClass":{"type":"object","description":"Informações da turma (se matriculado)","properties":{"id":{"type":"string"},"name":{"type":"string","example":"3° Ano A"},"shift":{"type":"string","example":"MORNING"}}}},"required":["id","name","email","birthDate"]},"ParentEntity":{"type":"object","properties":{"id":{"type":"string","description":"ID único do responsável","example":"550e8400-e29b-41d4-a716-446655440000"},"name":{"type":"string","description":"Nome completo do responsável","example":"Maria Silva Santos"},"email":{"type":"string","description":"Email do responsável","example":"maria.silva@email.com"},"phone":{"type":"string","description":"Telefone de contato","example":"+351 91 234 5678"},"students":{"description":"Lista de filhos associados","type":"array","items":{"$ref":"#/components/schemas/StudentBasicEntity"}},"createdAt":{"type":"string","description":"Data de criação do registro","example":"2024-07-15T10:00:00.000Z"}},"required":["id","name","email","students","createdAt"]},"GradeEntity":{"type":"object","properties":{"subjectName":{"type":"string","description":"Nome da disciplina","example":"Matemática"},"grade":{"type":"number","description":"Nota obtida","example":8.5},"teacherName":{"type":"string","description":"Nome do professor","example":"Prof. Carlos Silva"},"createdAt":{"type":"string","description":"Data da avaliação","example":"2024-08-15"}},"required":["subjectName","grade","teacherName","createdAt"]},"StudentGradesEntity":{"type":"object","properties":{"student":{"description":"Informações básicas do aluno","allOf":[{"$ref":"#/components/schemas/StudentBasicEntity"}]},"year":{"type":"number","description":"Ano letivo das notas","example":2024},"grades":{"description":"Lista de notas do aluno","type":"array","items":{"$ref":"#/components/schemas/GradeEntity"}},"averageGrade":{"type":"number","description":"Média geral do aluno","example":8.2},"status":{"type":"string","description":"Status acadêmico atual","example":"APROVADO","enum":["APROVADO","REPROVADO","EM_RECUPERACAO"]}},"required":["student","year","grades","averageGrade","status"]},"StudentPaymentsEntity":{"type":"object","properties":{"student":{"description":"Informações básicas do aluno","allOf":[{"$ref":"#/components/schemas/StudentBasicEntity"}]},"payments":{"description":"Lista de faturas do aluno","type":"array","items":{"$ref":"#/components/schemas/PaymentEntity"}},"summary":{"type":"object","description":"Resumo financeiro","properties":{"totalAmount":{"type":"number","example":855},"totalPaid":{"type":"number","example":427.5},"totalPending":{"type":"number","example":427.5},"overdueCount":{"type":"number","example":2}}}},"required":["student","payments","summary"]},"DocumentEntity":{"type":"object","properties":{"type":{"type":"string","description":"Tipo do documento","example":"CERTIFICADO","enum":["CERTIFICADO","DECLARACAO","HISTORICO","FATURA"]},"filename":{"type":"string","description":"Nome do arquivo","example":"certificado_joao_2024.pdf"},"description":{"type":"string","description":"Descrição do documento","example":"Certificado de conclusão - 2024"},"createdAt":{"type":"string","description":"Data de geração","example":"2024-08-15T14:30:00.000Z"},"downloadUrl":{"type":"string","description":"URL para download do PDF","example":"/parents-portal/student/123/docs/certificado/download"}},"required":["type","filename","description","createdAt","downloadUrl"]},"MessageEntity":{"type":"object","properties":{"id":{"type":"string","description":"ID único da mensagem","example":"550e8400-e29b-41d4-a716-446655440000"},"title":{"type":"string","description":"Título da mensagem","example":"Reunião de Pais - Setembro 2024"},"content":{"type":"string","description":"Conteúdo da mensagem","example":"Informamos que haverá reunião de pais no dia 15 de setembro às 19h..."},"priority":{"type":"string","description":"Prioridade da mensagem","enum":["LOW","NORMAL","HIGH","URGENT"],"example":"HIGH"},"audience":{"type":"array","description":"Público-alvo da mensagem","example":["PARENTS","TEACHERS"],"items":{"type":"string","enum":["PARENTS","TEACHERS","ALL_STAFF","SPECIFIC_CLASS","INDIVIDUAL","GROUP"]}},"createdAt":{"type":"string","description":"Data de criação","example":"2024-08-15T10:30:00.000Z"},"updatedAt":{"type":"string","description":"Data da última atualização","example":"2024-08-15T14:30:00.000Z"},"createdBy":{"type":"object","description":"Informações do criador da mensagem","properties":{"id":{"type":"string"},"name":{"type":"string","example":"João Silva"},"role":{"type":"string","example":"ADMIN"}}},"isRead":{"type":"boolean","description":"Se a mensagem foi lida pelo usuário atual","example":false},"totalRecipients":{"type":"number","description":"Número total de destinatários","example":25},"readCount":{"type":"number","description":"Número de destinatários que já leram","example":15},"expiresAt":{"type":"string","description":"Data de expiração (opcional)","example":"2024-12-31T23:59:59.000Z"},"isExpired":{"type":"boolean","description":"Se a mensagem está expirada","example":false}},"required":["id","title","content","priority","audience","createdAt","updatedAt","createdBy","isRead","totalRecipients","readCount","isExpired"]},"MarkAttendanceDto":{"type":"object","properties":{"date":{"type":"string","description":"Data da chamada","example":"2024-08-15","format":"date"},"classId":{"type":"string","description":"ID da turma","example":"550e8400-e29b-41d4-a716-446655440000"},"subjectId":{"type":"string","description":"ID da disciplina","example":"550e8400-e29b-41d4-a716-446655440000"},"attendances":{"description":"Lista de presenças dos alunos","items":{"type":"array"},"type":"array"}},"required":["date","classId","subjectId","attendances"]},"ClassAttendanceReport":{"type":"object","properties":{"class":{"type":"object","description":"Informações da turma","properties":{"id":{"type":"string"},"name":{"type":"string","example":"3° Ano A"},"shift":{"type":"string","example":"MORNING"}}},"date":{"type":"string","description":"Data da chamada","example":"2024-08-15"},"subject":{"type":"object","description":"Disciplina","properties":{"id":{"type":"string"},"name":{"type":"string","example":"Matemática"}}},"attendances":{"type":"array","description":"Lista de presenças dos alunos","items":{"type":"object","properties":{"studentId":{"type":"string"},"studentName":{"type":"string","example":"João Silva"},"present":{"type":"boolean","example":true},"justified":{"type":"boolean","example":false},"note":{"type":"string","example":"Chegou atrasado"}}}},"summary":{"type":"object","description":"Resumo da turma","properties":{"totalStudents":{"type":"number","example":25},"totalPresent":{"type":"number","example":23},"totalAbsent":{"type":"number","example":2},"totalJustified":{"type":"number","example":1}}}},"required":["class","date","attendances","summary"]},"StudentAttendanceSummary":{"type":"object","properties":{"student":{"type":"object","description":"Informações do aluno","properties":{"id":{"type":"string"},"name":{"type":"string","example":"João Silva"},"email":{"type":"string","example":"joao.silva@email.com"}}},"totalClasses":{"type":"number","description":"Total de aulas","example":20},"totalPresent":{"type":"number","description":"Total de presenças","example":18},"totalAbsent":{"type":"number","description":"Total de faltas","example":2},"totalJustified":{"type":"number","description":"Total de faltas justificadas","example":1},"attendancePercentage":{"type":"number","description":"Percentual de frequência","example":90},"bySubject":{"type":"array","description":"Resumo por disciplina","items":{"type":"object","properties":{"subjectId":{"type":"string"},"subjectName":{"type":"string","example":"Matemática"},"totalClasses":{"type":"number","example":10},"totalPresent":{"type":"number","example":9},"attendancePercentage":{"type":"number","example":90}}}}},"required":["student","totalClasses","totalPresent","totalAbsent","totalJustified","attendancePercentage","bySubject"]},"AttendanceListResponse":{"type":"object","properties":{"data":{"description":"Lista de registros de presença","items":{"type":"array"},"type":"array"},"pagination":{"type":"object","description":"Informações de paginação","properties":{"total":{"type":"number","example":100},"page":{"type":"number","example":1},"limit":{"type":"number","example":20},"pages":{"type":"number","example":5}}}},"required":["data","pagination"]},"UpdateAttendanceDto":{"type":"object","properties":{"present":{"type":"boolean","description":"Se o aluno está presente","example":false},"justified":{"type":"boolean","description":"Se a falta foi justificada","example":true},"note":{"type":"string","description":"Observação sobre a presença","example":"Atestado médico apresentado","maxLength":255}}},"AttendanceEntity":{"type":"object","properties":{"id":{"type":"string","description":"ID único da presença","example":"550e8400-e29b-41d4-a716-446655440000"},"date":{"type":"string","description":"Data da chamada","example":"2024-08-15"},"student":{"type":"object","description":"Informações do aluno","properties":{"id":{"type":"string"},"name":{"type":"string","example":"João Silva"},"email":{"type":"string","example":"joao.silva@email.com"}}},"class":{"type":"object","description":"Informações da turma","properties":{"id":{"type":"string"},"name":{"type":"string","example":"3° Ano A"},"shift":{"type":"string","example":"MORNING"}}},"subject":{"type":"object","description":"Informações da disciplina","properties":{"id":{"type":"string"},"name":{"type":"string","example":"Matemática"}}},"teacher":{"type":"object","description":"Informações do professor","properties":{"id":{"type":"string"},"name":{"type":"string","example":"Prof. Carlos Silva"}}},"present":{"type":"boolean","description":"Se o aluno estava presente","example":true},"justified":{"type":"boolean","description":"Se a falta foi justificada","example":false},"note":{"type":"string","description":"Observação sobre a presença","example":"Chegou atrasado"},"createdBy":{"type":"string","description":"ID do usuário que registrou","example":"550e8400-e29b-41d4-a716-446655440000"},"createdAt":{"type":"string","description":"Data de criação do registro","example":"2024-08-15T10:30:00.000Z"},"updatedAt":{"type":"string","description":"Data da última atualização","example":"2024-08-15T14:30:00.000Z"}},"required":["id","date","student","class","subject","teacher","present","justified","createdBy","createdAt","updatedAt"]},"CreateMessageDto":{"type":"object","properties":{"title":{"type":"string","description":"Título da mensagem","example":"Reunião de Pais - Setembro 2024","minLength":5,"maxLength":200},"content":{"type":"string","description":"Conteúdo da mensagem","example":"Informamos que haverá reunião de pais no dia 15 de setembro às 19h...","minLength":10,"maxLength":2000},"priority":{"type":"string","description":"Prioridade da mensagem","enum":["LOW","NORMAL","HIGH","URGENT"],"example":"NORMAL"},"audience":{"type":"array","description":"Público-alvo da mensagem","example":["PARENTS","TEACHERS"],"items":{"type":"string","enum":["PARENTS","TEACHERS","ALL_STAFF","SPECIFIC_CLASS","INDIVIDUAL","GROUP"]}},"targetUsers":{"description":"IDs específicos dos destinatários (quando audience é INDIVIDUAL ou GROUP)","example":["550e8400-e29b-41d4-a716-446655440000"],"type":"array","items":{"type":"string"}},"classId":{"type":"string","description":"ID da turma específica (quando audience é SPECIFIC_CLASS)","example":"550e8400-e29b-41d4-a716-446655440000"},"expiresAt":{"type":"string","description":"Data de expiração da mensagem (opcional)","example":"2024-12-31T23:59:59.000Z"}},"required":["title","content","audience"]},"MessageListResponse":{"type":"object","properties":{"data":{"description":"Lista de mensagens","items":{"type":"array"},"type":"array"},"pagination":{"type":"object","description":"Informações de paginação","properties":{"total":{"type":"number","example":50},"page":{"type":"number","example":1},"limit":{"type":"number","example":20},"pages":{"type":"number","example":3}}},"summary":{"type":"object","description":"Resumo das mensagens","properties":{"totalMessages":{"type":"number","example":50},"unreadMessages":{"type":"number","example":12},"urgentMessages":{"type":"number","example":3},"expiredMessages":{"type":"number","example":2}}}},"required":["data","pagination","summary"]},"UpdateMessageDto":{"type":"object","properties":{"title":{"type":"string","description":"Título da mensagem","example":"Reunião de Pais - Setembro 2024 (ATUALIZADA)","minLength":5,"maxLength":200},"content":{"type":"string","description":"Conteúdo da mensagem","example":"ATUALIZAÇÃO: A reunião foi reagendada para o dia 20 de setembro...","minLength":10,"maxLength":2000},"priority":{"type":"string","description":"Prioridade da mensagem","enum":["LOW","NORMAL","HIGH","URGENT"],"example":"HIGH"},"audience":{"type":"array","description":"Público-alvo da mensagem","example":["PARENTS"],"items":{"type":"string","enum":["PARENTS","TEACHERS","ALL_STAFF","SPECIFIC_CLASS","INDIVIDUAL","GROUP"]}},"targetUsers":{"description":"IDs específicos dos destinatários","example":["550e8400-e29b-41d4-a716-446655440000"],"type":"array","items":{"type":"string"}},"expiresAt":{"type":"string","description":"Data de expiração da mensagem","example":"2024-12-31T23:59:59.000Z"}}},"MessageStatsEntity":{"type":"object","properties":{"totalSent":{"type":"number","description":"Total de mensagens enviadas","example":150},"activeMessages":{"type":"number","description":"Mensagens ativas (não expiradas)","example":120},"averageReadRate":{"type":"number","description":"Taxa de leitura média","example":75.5},"byPriority":{"type":"object","description":"Mensagens por prioridade","properties":{"LOW":{"type":"number","example":30},"NORMAL":{"type":"number","example":80},"HIGH":{"type":"number","example":35},"URGENT":{"type":"number","example":5}}},"byAudience":{"type":"object","description":"Mensagens por público-alvo","properties":{"PARENTS":{"type":"number","example":45},"TEACHERS":{"type":"number","example":60},"ALL_STAFF":{"type":"number","example":25},"SPECIFIC_CLASS":{"type":"number","example":15},"INDIVIDUAL":{"type":"number","example":5}}}},"required":["totalSent","activeMessages","averageReadRate","byPriority","byAudience"]},"OverviewResponse":{"type":"object","properties":{"totalStudents":{"type":"number","description":"Total de alunos ativos","example":250},"totalTeachers":{"type":"number","description":"Total de professores","example":25},"totalClasses":{"type":"number","description":"Total de turmas","example":12},"totalSubjects":{"type":"number","description":"Total de disciplinas","example":8},"enrollmentsByShift":{"description":"Matrículas por turno","items":{"type":"array"},"type":"array"},"attendanceRate":{"type":"number","description":"Taxa de frequência geral","example":87.5},"paymentRate":{"type":"number","description":"Taxa de adimplência","example":82.3}},"required":["totalStudents","totalTeachers","totalClasses","totalSubjects","enrollmentsByShift","attendanceRate","paymentRate"]},"AttendanceAnalyticsResponse":{"type":"object","properties":{"overallAttendanceRate":{"type":"number","description":"Média de frequência geral","example":87.5},"classesByAttendance":{"description":"Ranking de turmas por assiduidade","items":{"type":"array"},"type":"array"},"absenceDistribution":{"type":"object","description":"Distribuição de faltas","properties":{"justified":{"type":"number","example":120},"unjustified":{"type":"number","example":80},"total":{"type":"number","example":200}}},"monthlyTrend":{"description":"Tendência de frequência por mês","items":{"type":"array"},"type":"array"},"criticalAttendanceCount":{"type":"number","description":"Alunos com frequência crítica (<75%)","example":15}},"required":["overallAttendanceRate","classesByAttendance","absenceDistribution","monthlyTrend","criticalAttendanceCount"]},"GradesAnalyticsResponse":{"type":"object","properties":{"overallAverage":{"type":"number","description":"Média global de notas","example":7.2},"averageBySubject":{"description":"Média por disciplina","items":{"type":"array"},"type":"array"},"statusDistribution":{"type":"object","description":"Distribuição por status final","properties":{"approved":{"type":"number","example":180},"failed":{"type":"number","example":45},"recovery":{"type":"number","example":25}}},"approvalRate":{"type":"number","description":"Taxa de aprovação geral","example":72},"topPerformingClasses":{"description":"Top 5 melhores médias por turma","items":{"type":"array"},"type":"array"}},"required":["overallAverage","averageBySubject","statusDistribution","approvalRate","topPerformingClasses"]},"FinanceAnalyticsResponse":{"type":"object","properties":{"totalBilled":{"type":"number","description":"Valor total faturado","example":250000},"totalReceived":{"type":"number","description":"Valor total recebido","example":205000},"defaultRate":{"type":"number","description":"Taxa de inadimplência","example":18},"pendingInvoices":{"type":"number","description":"Total de faturas pendentes","example":67},"monthlyRevenue":{"description":"Receita por mês","items":{"type":"array"},"type":"array"},"paymentStatusDistribution":{"description":"Distribuição por status de pagamento","items":{"type":"array"},"type":"array"},"nextMonthProjection":{"type":"number","description":"Previsão de receita próximo mês","example":220000}},"required":["totalBilled","totalReceived","defaultRate","pendingInvoices","monthlyRevenue","paymentStatusDistribution","nextMonthProjection"]},"MatriculationAnalyticsResponse":{"type":"object","properties":{"totalEnrollments":{"type":"number","description":"Total de matrículas no ano atual","example":250},"enrollmentsByShift":{"description":"Matrículas por turno","items":{"type":"array"},"type":"array"},"enrollmentsByClass":{"description":"Matrículas por turma","items":{"type":"array"},"type":"array"},"monthlyGrowth":{"description":"Crescimento mensal","items":{"type":"array"},"type":"array"},"yearOverYearGrowth":{"type":"number","description":"Taxa de crescimento YoY","example":15.5},"renewalRate":{"type":"number","description":"Taxa de renovação de matrículas","example":85},"genderDistribution":{"type":"object","description":"Distribuição por sexo","properties":{"male":{"type":"number","example":130},"female":{"type":"number","example":120}}}},"required":["totalEnrollments","enrollmentsByShift","enrollmentsByClass","monthlyGrowth","yearOverYearGrowth","renewalRate","genderDistribution"]},"UploadResponse":{"type":"object","properties":{"id":{"type":"string","description":"ID do arquivo enviado","example":"550e8400-e29b-41d4-a716-446655440000"},"originalName":{"type":"string","description":"Nome original do arquivo","example":"certificado_matricula.pdf"},"type":{"type":"string","description":"Tipo do arquivo","enum":["MATRICULA","ATESTADO","AVALIACAO","HISTORICO","EXAME_MEDICO","OUTRO"],"example":"MATRICULA"},"size":{"type":"number","description":"Tamanho em bytes","example":1024000},"createdAt":{"format":"date-time","type":"string","description":"Data de upload","example":"2024-01-15T10:30:00Z"},"message":{"type":"string","description":"Mensagem de sucesso","example":"Arquivo enviado com sucesso"}},"required":["id","originalName","type","size","createdAt","message"]},"FileListResponse":{"type":"object","properties":{"files":{"description":"Lista de arquivos","items":{"type":"array"},"type":"array"},"total":{"type":"number","description":"Total de arquivos","example":25},"page":{"type":"number","description":"Página atual","example":1},"limit":{"type":"number","description":"Itens por página","example":10},"totalPages":{"type":"number","description":"Total de páginas","example":3}},"required":["files","total","page","limit","totalPages"]},"CreateBookDto":{"type":"object","properties":{"title":{"type":"string","description":"Título do livro","example":"Dom Casmurro","minLength":2,"maxLength":255},"author":{"type":"string","description":"Autor do livro","example":"Machado de Assis","minLength":2,"maxLength":255},"isbn":{"type":"string","description":"ISBN único do livro","example":"978-85-7326-158-9","minLength":10,"maxLength":17},"copies":{"type":"number","description":"Número de cópias disponíveis","example":5,"minimum":1,"default":1}},"required":["title","author","isbn","copies"]},"CreateBookResponse":{"type":"object","properties":{"id":{"type":"string","description":"ID do livro criado","example":"550e8400-e29b-41d4-a716-446655440000"},"title":{"type":"string","description":"Título do livro","example":"Dom Casmurro"},"author":{"type":"string","description":"Autor do livro","example":"Machado de Assis"},"isbn":{"type":"string","description":"ISBN do livro","example":"978-85-7326-158-9"},"copies":{"type":"number","description":"Número de cópias","example":5},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2024-01-15T10:30:00Z"},"message":{"type":"string","description":"Mensagem de sucesso","example":"Livro cadastrado com sucesso"}},"required":["id","title","author","isbn","copies","createdAt","message"]},"BooksListResponse":{"type":"object","properties":{"books":{"description":"Lista de livros","items":{"type":"array"},"type":"array"},"total":{"type":"number","description":"Total de livros","example":25},"page":{"type":"number","description":"Página atual","example":1},"limit":{"type":"number","description":"Itens por página","example":10},"totalPages":{"type":"number","description":"Total de páginas","example":3}},"required":["books","total","page","limit","totalPages"]},"LoanBookDto":{"type":"object","properties":{"bookId":{"type":"string","description":"ID do livro a ser emprestado","example":"550e8400-e29b-41d4-a716-446655440000"},"studentId":{"type":"string","description":"ID do aluno (se empréstimo for para aluno)","example":"550e8400-e29b-41d4-a716-446655440000"},"teacherId":{"type":"string","description":"ID do professor (se empréstimo for para professor)","example":"550e8400-e29b-41d4-a716-446655440000"},"dueDate":{"type":"string","description":"Data de vencimento personalizada (opcional, padrão: 15 dias)","example":"2024-01-30T10:30:00Z"}},"required":["bookId"]},"LoanBookResponse":{"type":"object","properties":{"id":{"type":"string","description":"ID do empréstimo criado","example":"550e8400-e29b-41d4-a716-446655440000"},"bookId":{"type":"string","description":"ID do livro emprestado","example":"550e8400-e29b-41d4-a716-446655440000"},"borrowerId":{"type":"string","description":"ID do aluno ou professor","example":"550e8400-e29b-41d4-a716-446655440000"},"borrowerType":{"type":"string","description":"Tipo do emprestário","example":"student","enum":["student","teacher"]},"status":{"type":"string","description":"Status do empréstimo","example":"ACTIVE"},"loanDate":{"format":"date-time","type":"string","description":"Data do empréstimo","example":"2024-01-15T10:30:00Z"},"dueDate":{"format":"date-time","type":"string","description":"Data de vencimento","example":"2024-01-30T10:30:00Z"},"book":{"type":"object","description":"Dados do livro emprestado"},"message":{"type":"string","description":"Mensagem de sucesso","example":"Empréstimo realizado com sucesso"}},"required":["id","bookId","borrowerId","borrowerType","status","loanDate","dueDate","book","message"]},"ReturnBookDto":{"type":"object","properties":{"returnDate":{"type":"string","description":"Data de devolução personalizada (opcional, padrão: agora)","example":"2024-01-28T10:30:00Z"}}},"ReturnBookResponse":{"type":"object","properties":{"id":{"type":"string","description":"ID do empréstimo devolvido","example":"550e8400-e29b-41d4-a716-446655440000"},"loanDate":{"format":"date-time","type":"string","description":"Data do empréstimo original","example":"2024-01-15T10:30:00Z"},"dueDate":{"format":"date-time","type":"string","description":"Data de vencimento","example":"2024-01-30T10:30:00Z"},"returnDate":{"format":"date-time","type":"string","description":"Data de devolução efetiva","example":"2024-01-28T10:30:00Z"},"wasOverdue":{"type":"boolean","description":"Indica se a devolução foi feita em atraso","example":false},"daysOverdue":{"type":"number","description":"Dias de atraso (se aplicável)","example":0},"book":{"type":"object","description":"Dados do livro devolvido"},"borrower":{"type":"object","description":"Dados do emprestário"},"message":{"type":"string","description":"Mensagem de sucesso","example":"Livro devolvido com sucesso"}},"required":["id","loanDate","dueDate","returnDate","wasOverdue","daysOverdue","book","borrower","message"]},"LoansListResponse":{"type":"object","properties":{"loans":{"description":"Lista de empréstimos","items":{"type":"array"},"type":"array"},"total":{"type":"number","description":"Total de empréstimos","example":25},"page":{"type":"number","description":"Página atual","example":1},"limit":{"type":"number","description":"Itens por página","example":10},"totalPages":{"type":"number","description":"Total de páginas","example":3}},"required":["loans","total","page","limit","totalPages"]},"TransportStopDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome da paragem","example":"Praça Central"},"order":{"type":"number","description":"Ordem da paragem na rota (1, 2, 3...)","example":1}},"required":["name","order"]},"CreateRouteDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome da rota de transporte","example":"Rota Centro - Escola"},"driverName":{"type":"string","description":"Nome do motorista responsável pela rota","example":"João Silva"},"vehicle":{"type":"string","description":"Identificação do veículo (placa ou nome)","example":"ABC-1234"},"departure":{"type":"string","description":"Horário de saída (formato HH:mm)","example":"07:00"},"returnTime":{"type":"string","description":"Horário de retorno (formato HH:mm)","example":"17:30"},"stops":{"description":"Lista ordenada de paragens da rota","example":[{"name":"Praça Central","order":1},{"name":"Mercado Municipal","order":2},{"name":"Bairro Novo","order":3}],"type":"array","items":{"$ref":"#/components/schemas/TransportStopDto"}}},"required":["name","driverName","vehicle","departure","returnTime","stops"]},"TransportRoute":{"type":"object","properties":{"id":{"type":"string","description":"ID único da rota de transporte","example":"uuid-da-rota"},"name":{"type":"string","description":"Nome da rota de transporte","example":"Rota Centro - Escola"},"driverName":{"type":"string","description":"Nome do motorista responsável pela rota","example":"João Silva"},"vehicle":{"type":"string","description":"Identificação do veículo (placa ou nome)","example":"ABC-1234 ou Micro-bus Amarelo"},"departure":{"type":"string","description":"Horário de saída da escola/garagem","example":"07:00"},"returnTime":{"type":"string","description":"Horário de retorno à escola/garagem","example":"17:30"},"stops":{"type":"array","description":"Lista ordenada de paragens da rota","example":[{"name":"Praça Central","order":1},{"name":"Mercado Municipal","order":2},{"name":"Bairro Novo","order":3}],"items":{"type":"object","properties":{"name":{"type":"string"},"order":{"type":"number"}}}},"createdAt":{"format":"date-time","type":"string","description":"Data de criação da rota","example":"2025-01-15T10:30:00Z"},"students":{"type":"array","description":"Lista de alunos atribuídos à rota"}},"required":["id","name","driverName","vehicle","departure","returnTime","stops","createdAt"]},"AssignStudentDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do aluno a ser atribuído à rota","example":"uuid-do-aluno"},"stopName":{"type":"string","description":"Nome da paragem onde o aluno embarca/desembarca","example":"Praça Central"},"notes":{"type":"string","description":"Notas adicionais sobre o transporte do aluno","example":"Aluno tem dificuldades de locomoção"}},"required":["studentId","stopName"]},"AssignMultipleStudentsDto":{"type":"object","properties":{"students":{"description":"Lista de alunos a serem atribuídos à rota","type":"array","items":{"$ref":"#/components/schemas/AssignStudentDto"}}},"required":["students"]},"StudentTransport":{"type":"object","properties":{"id":{"type":"string","description":"ID único da atribuição de transporte","example":"uuid-da-atribuicao"},"studentId":{"type":"string","description":"ID do aluno","example":"uuid-do-aluno"},"routeId":{"type":"string","description":"ID da rota de transporte","example":"uuid-da-rota"},"stopName":{"type":"string","description":"Nome da paragem onde o aluno embarca/desembarca","example":"Praça Central"},"notes":{"type":"string","description":"Notas adicionais sobre o transporte do aluno","example":"Aluno tem dificuldades de locomoção"},"student":{"type":"object","description":"Dados do aluno"},"route":{"type":"object","description":"Dados da rota de transporte"}},"required":["id","studentId","routeId","stopName"]},"UpdateStudentTransportDto":{"type":"object","properties":{"stopName":{"type":"string","description":"Nome da paragem onde o aluno embarca/desembarca","example":"Praça Central"},"notes":{"type":"string","description":"Notas adicionais sobre o transporte do aluno","example":"Aluno tem dificuldades de locomoção"}}},"CreateEventDto":{"type":"object","properties":{"title":{"type":"string","description":"Título do evento","example":"Festa Junina 2025","minLength":3,"maxLength":100},"description":{"type":"string","description":"Descrição detalhada do evento","example":"Festa junina anual da escola com apresentações culturais, comidas típicas e quadrilha.","minLength":10,"maxLength":1000},"date":{"type":"string","description":"Data e hora do evento (formato ISO 8601)","example":"2025-06-15T14:00:00Z"},"location":{"type":"string","description":"Local onde será realizado o evento","example":"Pátio principal da escola","minLength":3,"maxLength":200},"type":{"type":"string","description":"Tipo do evento","enum":["PALESTRA","PASSEIO","REUNIAO","FORMATURA","OUTRO"],"example":"OUTRO"}},"required":["title","description","date","location","type"]},"Event":{"type":"object","properties":{"id":{"type":"string","description":"ID único do evento","example":"uuid-do-evento"},"title":{"type":"string","description":"Título do evento","example":"Festa Junina 2025"},"description":{"type":"string","description":"Descrição detalhada do evento","example":"Festa junina anual da escola com apresentações culturais, comidas típicas e quadrilha."},"date":{"format":"date-time","type":"string","description":"Data e hora do evento","example":"2025-06-15T14:00:00Z"},"location":{"type":"string","description":"Local onde será realizado o evento","example":"Pátio principal da escola"},"type":{"type":"string","description":"Tipo do evento","enum":["PALESTRA","PASSEIO","REUNIAO","FORMATURA","OUTRO"],"example":"OUTRO"},"createdAt":{"format":"date-time","type":"string","description":"Data de criação do evento","example":"2025-01-15T10:30:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data da última atualização","example":"2025-01-16T14:20:00Z"},"participants":{"type":"array","description":"Lista de participantes do evento"},"totalParticipants":{"type":"number","description":"Total de participantes inscritos","example":45},"totalPresent":{"type":"number","description":"Total de presenças confirmadas","example":38}},"required":["id","title","description","date","location","type","createdAt","updatedAt"]},"UpdateEventDto":{"type":"object","properties":{"title":{"type":"string","description":"Título do evento","example":"Festa Junina 2025","minLength":3,"maxLength":100},"description":{"type":"string","description":"Descrição detalhada do evento","example":"Festa junina anual da escola com apresentações culturais, comidas típicas e quadrilha.","minLength":10,"maxLength":1000},"date":{"type":"string","description":"Data e hora do evento (formato ISO 8601)","example":"2025-06-15T14:00:00Z"},"location":{"type":"string","description":"Local onde será realizado o evento","example":"Pátio principal da escola","minLength":3,"maxLength":200},"type":{"type":"string","description":"Tipo do evento","enum":["PALESTRA","PASSEIO","REUNIAO","FORMATURA","OUTRO"],"example":"OUTRO"}}},"RegisterParticipationDto":{"type":"object","properties":{"studentId":{"type":"string","description":"ID do aluno a registrar no evento","example":"uuid-do-aluno"},"note":{"type":"string","description":"Observações sobre a participação","example":"Aluno irá participar da apresentação de dança"}},"required":["studentId"]},"RegisterMultipleParticipationsDto":{"type":"object","properties":{"participations":{"description":"Lista de alunos a registrar no evento","type":"array","items":{"$ref":"#/components/schemas/RegisterParticipationDto"}}},"required":["participations"]},"EventParticipation":{"type":"object","properties":{"id":{"type":"string","description":"ID único da participação","example":"uuid-da-participacao"},"eventId":{"type":"string","description":"ID do evento","example":"uuid-do-evento"},"studentId":{"type":"string","description":"ID do aluno participante","example":"uuid-do-aluno"},"presence":{"type":"boolean","description":"Status de presença do aluno no evento","example":true,"default":false},"note":{"type":"string","description":"Observações sobre a participação","example":"Aluno participou ativamente das atividades"},"createdAt":{"format":"date-time","type":"string","description":"Data de registro da participação","example":"2025-05-10T09:00:00Z"},"student":{"type":"object","description":"Dados do aluno participante"},"event":{"type":"object","description":"Dados do evento"}},"required":["id","eventId","studentId","presence","createdAt"]},"RegisterClassParticipationDto":{"type":"object","properties":{"classId":{"type":"string","description":"ID da turma a registrar no evento","example":"uuid-da-turma"},"note":{"type":"string","description":"Observação geral para todos os alunos da turma","example":"Turma responsável pela apresentação de abertura"}},"required":["classId"]},"UpdateParticipationDto":{"type":"object","properties":{"presence":{"type":"boolean","description":"Status de presença do aluno","example":true},"note":{"type":"string","description":"Observações sobre a participação","example":"Aluno participou ativamente das atividades"}},"required":["presence"]},"BatchUpdatePresenceDto":{"type":"object","properties":{"updates":{"description":"Lista de IDs de participação e seus status de presença","example":[{"participationId":"uuid-1","presence":true},{"participationId":"uuid-2","presence":false}],"type":"array","items":{"type":"string"}}},"required":["updates"]},"CreateSettingDto":{"type":"object","properties":{"key":{"type":"string","description":"Chave da configuração","example":"school_name","maxLength":100},"value":{"type":"string","description":"Valor da configuração","example":"Escola Primária Synexa"},"description":{"type":"string","description":"Descrição da configuração","example":"Nome oficial da escola"},"type":{"type":"string","description":"Tipo de configuração","example":"STRING","enum":["STRING","NUMBER","BOOLEAN","JSON"],"default":"STRING"},"isPublic":{"type":"boolean","description":"Indica se a configuração é pública","example":true,"default":true}},"required":["key","value","type","isPublic"]},"Setting":{"type":"object","properties":{"id":{"type":"string","description":"ID único da configuração","example":"uuid-123"},"key":{"type":"string","description":"Chave da configuração","example":"school_name"},"value":{"type":"string","description":"Valor da configuração","example":"Escola Primária Synexa"},"description":{"type":"string","description":"Descrição da configuração","example":"Nome oficial da escola"},"type":{"type":"string","description":"Tipo de configuração","example":"STRING","enum":["STRING","NUMBER","BOOLEAN","JSON"]},"isPublic":{"type":"boolean","description":"Indica se a configuração é pública","example":true},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2025-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2025-01-01T00:00:00.000Z"}},"required":["id","key","value","description","type","isPublic","createdAt","updatedAt"]},"UpdateSettingDto":{"type":"object","properties":{"value":{"type":"string","description":"Valor da configuração","example":"Escola Primária Synexa"},"description":{"type":"string","description":"Descrição da configuração","example":"Nome oficial da escola"},"type":{"type":"string","description":"Tipo de configuração","example":"STRING","enum":["STRING","NUMBER","BOOLEAN","JSON"]},"isPublic":{"type":"boolean","description":"Indica se a configuração é pública","example":true}}},"CreateSmtpConfigDto":{"type":"object","properties":{"host":{"type":"string","description":"Servidor SMTP","example":"smtp.gmail.com"},"port":{"type":"number","description":"Porta do servidor SMTP","example":587,"minimum":1,"maximum":65535},"secure":{"type":"boolean","description":"Usar SSL/TLS","example":true},"user":{"type":"string","description":"Email do remetente","example":"noreply@escola.com"},"password":{"type":"string","description":"Senha do email","example":"senha123"},"fromName":{"type":"string","description":"Nome do remetente","example":"Escola Synexa"},"isActive":{"type":"boolean","description":"Status da configuração","example":true,"default":true}},"required":["host","port","secure","user","password","fromName","isActive"]},"SmtpConfig":{"type":"object","properties":{"id":{"type":"string","description":"ID único da configuração SMTP","example":"uuid-123"},"host":{"type":"string","description":"Servidor SMTP","example":"smtp.gmail.com"},"port":{"type":"number","description":"Porta do servidor SMTP","example":587},"secure":{"type":"boolean","description":"Usar SSL/TLS","example":true},"user":{"type":"string","description":"Email do remetente","example":"noreply@escola.com"},"password":{"type":"string","description":"Senha do email (criptografada)","example":"encrypted_password"},"fromName":{"type":"string","description":"Nome do remetente","example":"Escola Synexa"},"isActive":{"type":"boolean","description":"Status da configuração","example":true},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2025-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2025-01-01T00:00:00.000Z"}},"required":["id","host","port","secure","user","password","fromName","isActive","createdAt","updatedAt"]},"UpdateSmtpConfigDto":{"type":"object","properties":{"host":{"type":"string","description":"Servidor SMTP","example":"smtp.gmail.com"},"port":{"type":"number","description":"Porta do servidor SMTP","example":587,"minimum":1,"maximum":65535},"secure":{"type":"boolean","description":"Usar SSL/TLS","example":true},"user":{"type":"string","description":"Email do remetente","example":"noreply@escola.com"},"password":{"type":"string","description":"Senha do email","example":"senha123"},"fromName":{"type":"string","description":"Nome do remetente","example":"Escola Synexa"},"isActive":{"type":"boolean","description":"Status da configuração","example":true}}},"TestSmtpDto":{"type":"object","properties":{"toEmail":{"type":"string","description":"Email de destino para teste","example":"admin@escola.com"},"subject":{"type":"string","description":"Assunto do email de teste","example":"Teste de configuração SMTP"},"body":{"type":"string","description":"Corpo do email de teste","example":"Este é um email de teste para verificar a configuração SMTP."}},"required":["toEmail"]},"CreateWebhookDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome do webhook","example":"Webhook de Pagamentos"},"url":{"type":"string","description":"URL do webhook","example":"https://api.exemplo.com/webhook"},"method":{"type":"string","description":"Método HTTP","example":"POST","enum":["GET","POST","PUT","PATCH","DELETE"],"default":"POST"},"events":{"type":"array","description":"Eventos que disparam o webhook","example":["PAYMENT_RECEIVED","ENROLLMENT_CREATED"],"items":{"type":"string","enum":["PAYMENT_RECEIVED","ENROLLMENT_CREATED","GRADE_ADDED","ATTENDANCE_MARKED","STUDENT_CREATED","TEACHER_CREATED","MESSAGE_SENT","INVOICE_GENERATED","DOCUMENT_GENERATED","USER_CREATED"]}},"headers":{"type":"object","description":"Cabeçalhos HTTP personalizados","example":{"Authorization":"Bearer token123"}},"secret":{"type":"string","description":"Chave secreta para verificação","example":"secret_key_123"},"isActive":{"type":"boolean","description":"Status do webhook","example":true,"default":true},"retryAttempts":{"type":"number","description":"Número de tentativas em caso de falha","example":3,"minimum":1,"maximum":10,"default":3}},"required":["name","url","method","events","isActive","retryAttempts"]},"Webhook":{"type":"object","properties":{"id":{"type":"string","description":"ID único do webhook","example":"uuid-123"},"name":{"type":"string","description":"Nome do webhook","example":"Webhook de Pagamentos"},"url":{"type":"string","description":"URL do webhook","example":"https://api.exemplo.com/webhook"},"method":{"type":"string","description":"Método HTTP","example":"POST","enum":["GET","POST","PUT","PATCH","DELETE"]},"events":{"description":"Eventos que disparam o webhook","example":["PAYMENT_RECEIVED","ENROLLMENT_CREATED"],"type":"array","items":{"type":"string"}},"headers":{"type":"object","description":"Cabeçalhos HTTP personalizados","example":{"Authorization":"Bearer token123"}},"secret":{"type":"string","description":"Chave secreta para verificação","example":"secret_key_123"},"isActive":{"type":"boolean","description":"Status do webhook","example":true},"retryAttempts":{"type":"number","description":"Número de tentativas em caso de falha","example":3},"createdAt":{"format":"date-time","type":"string","description":"Data de criação","example":"2025-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualização","example":"2025-01-01T00:00:00.000Z"}},"required":["id","name","url","method","events","headers","secret","isActive","retryAttempts","createdAt","updatedAt"]},"UpdateWebhookDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome do webhook","example":"Webhook de Pagamentos"},"url":{"type":"string","description":"URL do webhook","example":"https://api.exemplo.com/webhook"},"method":{"type":"string","description":"Método HTTP","example":"POST","enum":["GET","POST","PUT","PATCH","DELETE"]},"events":{"type":"array","description":"Eventos que disparam o webhook","example":["PAYMENT_RECEIVED","ENROLLMENT_CREATED"],"items":{"type":"string","enum":["PAYMENT_RECEIVED","ENROLLMENT_CREATED","GRADE_ADDED","ATTENDANCE_MARKED","STUDENT_CREATED","TEACHER_CREATED","MESSAGE_SENT","INVOICE_GENERATED","DOCUMENT_GENERATED","USER_CREATED"]}},"headers":{"type":"object","description":"Cabeçalhos HTTP personalizados","example":{"Authorization":"Bearer token123"}},"secret":{"type":"string","description":"Chave secreta para verificação","example":"secret_key_123"},"isActive":{"type":"boolean","description":"Status do webhook","example":true},"retryAttempts":{"type":"number","description":"Número de tentativas em caso de falha","example":3,"minimum":1,"maximum":10}}},"TestWebhookDto":{"type":"object","properties":{"testData":{"type":"object","description":"Dados de teste para enviar","example":{"message":"Teste de webhook","timestamp":"2025-07-22T01:38:34.613Z"}}}},"CreateBackupDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome do backup","example":"backup_2025_01_01"},"type":{"type":"string","description":"Tipo de backup","example":"FULL","enum":["FULL","INCREMENTAL","DIFFERENTIAL"],"default":"FULL"},"format":{"type":"string","description":"Formato do backup","example":"SQL","enum":["SQL","JSON","CSV"],"default":"SQL"},"includeSensitiveData":{"type":"boolean","description":"Incluir dados sensíveis (senhas, tokens)","example":false,"default":false},"tables":{"description":"Tabelas específicas para backup","example":["students","teachers","grades"],"type":"array","items":{"type":"string"}},"compress":{"type":"boolean","description":"Compactar backup","example":true,"default":true}},"required":["type","format","includeSensitiveData","compress"]},"RestoreBackupDto":{"type":"object","properties":{"filename":{"type":"string","description":"Nome do arquivo de backup","example":"backup_2025_01_01.sql"},"confirmReplace":{"type":"boolean","description":"Confirmar substituição de dados","example":true},"tables":{"description":"Tabelas específicas para restaurar","example":["students","teachers"],"type":"array","items":{"type":"string"}}},"required":["filename","confirmReplace"]},"CreateScheduleDto":{"type":"object","properties":{"teacherId":{"type":"string","description":"ID do professor","example":"teacher-uuid-id"},"weekday":{"type":"string","description":"Dia da semana","enum":["SEGUNDA","TERCA","QUARTA","QUINTA","SEXTA","SABADO"],"example":"SEGUNDA"},"startTime":{"type":"string","description":"Horário de início (formato HH:mm)","example":"08:00"},"endTime":{"type":"string","description":"Horário de fim (formato HH:mm)","example":"09:30"},"subjectId":{"type":"string","description":"ID da disciplina","example":"subject-uuid-id"}},"required":["teacherId","weekday","startTime","endTime","subjectId"]},"UpdateScheduleDto":{"type":"object","properties":{"teacherId":{"type":"string","description":"ID do professor","example":"teacher-uuid-id"},"weekday":{"type":"string","description":"Dia da semana","enum":["SEGUNDA","TERCA","QUARTA","QUINTA","SEXTA","SABADO"],"example":"SEGUNDA"},"startTime":{"type":"string","description":"Horário de início (formato HH:mm)","example":"08:00"},"endTime":{"type":"string","description":"Horário de fim (formato HH:mm)","example":"09:30"},"subjectId":{"type":"string","description":"ID da disciplina","example":"subject-uuid-id"}}}}}}